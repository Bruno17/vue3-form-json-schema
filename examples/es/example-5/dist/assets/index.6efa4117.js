var Ao=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{h as Co,r as Mo,o as cr,c as Gr,a as kt,b as be,d as No,u as Vo,e as En,f as kr,t as Io,g as Ro,i as Do,j as ko}from"./vendor.ee4f8d57.js";var F_=Ao((we,Pe)=>{const Lo=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}};Lo();var Ho=Object.defineProperty,Uo=Object.defineProperties,qo=Object.getOwnPropertyDescriptors,Zr=Object.getOwnPropertySymbols,ia=Object.prototype.hasOwnProperty,aa=Object.prototype.propertyIsEnumerable,ui=(e,t,r)=>t in e?Ho(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,D=(e,t)=>{for(var r in t||(t={}))ia.call(t,r)&&ui(e,r,t[r]);if(Zr)for(var r of Zr(t))aa.call(t,r)&&ui(e,r,t[r]);return e},ue=(e,t)=>Uo(e,qo(t)),zt=(e,t)=>{var r={};for(var n in e)ia.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Zr)for(var n of Zr(e))t.indexOf(n)<0&&aa.call(e,n)&&(r[n]=e[n]);return r},zo=typeof global=="object"&&global&&global.Object===Object&&global,oa=zo,Ko=typeof self=="object"&&self&&self.Object===Object&&self,Bo=oa||Ko||Function("return this")(),Xe=Bo,Go=Xe.Symbol,Ke=Go,la=Object.prototype,Jo=la.hasOwnProperty,Xo=la.toString,ar=Ke?Ke.toStringTag:void 0;function Wo(e){var t=Jo.call(e,ar),r=e[ar];try{e[ar]=void 0;var n=!0}catch{}var s=Xo.call(e);return n&&(t?e[ar]=r:delete e[ar]),s}var Yo=Object.prototype,Qo=Yo.toString;function Zo(e){return Qo.call(e)}var xo="[object Null]",el="[object Undefined]",fi=Ke?Ke.toStringTag:void 0;function Pt(e){return e==null?e===void 0?el:xo:fi&&fi in Object(e)?Wo(e):Zo(e)}function Be(e){return e!=null&&typeof e=="object"}var tl="[object Symbol]";function Jn(e){return typeof e=="symbol"||Be(e)&&Pt(e)==tl}function rl(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var nl=Array.isArray,Ge=nl,sl=1/0,di=Ke?Ke.prototype:void 0,hi=di?di.toString:void 0;function ca(e){if(typeof e=="string")return e;if(Ge(e))return rl(e,ca)+"";if(Jn(e))return hi?hi.call(e):"";var t=e+"";return t=="0"&&1/e==-sl?"-0":t}function Je(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function ua(e){return e}var il="[object AsyncFunction]",al="[object Function]",ol="[object GeneratorFunction]",ll="[object Proxy]";function Xn(e){if(!Je(e))return!1;var t=Pt(e);return t==al||t==ol||t==il||t==ll}var cl=Xe["__core-js_shared__"],bn=cl,pi=function(){var e=/[^.]+$/.exec(bn&&bn.keys&&bn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ul(e){return!!pi&&pi in e}var fl=Function.prototype,dl=fl.toString;function Ot(e){if(e!=null){try{return dl.call(e)}catch{}try{return e+""}catch{}}return""}var hl=/[\\^$.*+?()[\]{}|]/g,pl=/^\[object .+?Constructor\]$/,vl=Function.prototype,ml=Object.prototype,yl=vl.toString,gl=ml.hasOwnProperty,_l=RegExp("^"+yl.call(gl).replace(hl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $l(e){if(!Je(e)||ul(e))return!1;var t=Xn(e)?_l:pl;return t.test(Ot(e))}function jl(e,t){return e==null?void 0:e[t]}function Tt(e,t){var r=jl(e,t);return $l(r)?r:void 0}var El=Tt(Xe,"WeakMap"),Cn=El,vi=Object.create,bl=function(){function e(){}return function(t){if(!Je(t))return{};if(vi)return vi(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Sl=bl;function wl(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function fa(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Pl=800,Ol=16,Tl=Date.now;function Fl(e){var t=0,r=0;return function(){var n=Tl(),s=Ol-(n-r);if(r=n,s>0){if(++t>=Pl)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Al(e){return function(){return e}}var Cl=function(){try{var e=Tt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),xr=Cl,Ml=xr?function(e,t){return xr(e,"toString",{configurable:!0,enumerable:!1,value:Al(t),writable:!0})}:ua,Nl=Ml,Vl=Fl(Nl),Il=Vl;function Rl(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var Dl=9007199254740991,kl=/^(?:0|[1-9]\d*)$/;function Wn(e,t){var r=typeof e;return t=t==null?Dl:t,!!t&&(r=="number"||r!="symbol"&&kl.test(e))&&e>-1&&e%1==0&&e<t}function Yn(e,t,r){t=="__proto__"&&xr?xr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function wr(e,t){return e===t||e!==e&&t!==t}var Ll=Object.prototype,Hl=Ll.hasOwnProperty;function Qn(e,t,r){var n=e[t];(!(Hl.call(e,t)&&wr(n,r))||r===void 0&&!(t in e))&&Yn(e,t,r)}function Pr(e,t,r,n){var s=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var l=t[i],u=n?n(r[l],e[l],l,r,e):void 0;u===void 0&&(u=e[l]),s?Yn(r,l,u):Qn(r,l,u)}return r}var mi=Math.max;function Ul(e,t,r){return t=mi(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=mi(n.length-t,0),a=Array(i);++s<i;)a[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(a),wl(e,this,l)}}function ql(e,t){return Il(Ul(e,t,ua),e+"")}var zl=9007199254740991;function da(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=zl}function cn(e){return e!=null&&da(e.length)&&!Xn(e)}function Kl(e,t,r){if(!Je(r))return!1;var n=typeof t;return(n=="number"?cn(r)&&Wn(t,r.length):n=="string"&&t in r)?wr(r[t],e):!1}function Bl(e){return ql(function(t,r){var n=-1,s=r.length,i=s>1?r[s-1]:void 0,a=s>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(s--,i):void 0,a&&Kl(r[0],r[1],a)&&(i=s<3?void 0:i,s=1),t=Object(t);++n<s;){var l=r[n];l&&e(t,l,n,i)}return t})}var Gl=Object.prototype;function Zn(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Gl;return e===r}function Jl(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Xl="[object Arguments]";function yi(e){return Be(e)&&Pt(e)==Xl}var ha=Object.prototype,Wl=ha.hasOwnProperty,Yl=ha.propertyIsEnumerable,Ql=yi(function(){return arguments}())?yi:function(e){return Be(e)&&Wl.call(e,"callee")&&!Yl.call(e,"callee")},Mn=Ql;function Zl(){return!1}var pa=typeof we=="object"&&we&&!we.nodeType&&we,gi=pa&&typeof Pe=="object"&&Pe&&!Pe.nodeType&&Pe,xl=gi&&gi.exports===pa,_i=xl?Xe.Buffer:void 0,ec=_i?_i.isBuffer:void 0,tc=ec||Zl,gr=tc,rc="[object Arguments]",nc="[object Array]",sc="[object Boolean]",ic="[object Date]",ac="[object Error]",oc="[object Function]",lc="[object Map]",cc="[object Number]",uc="[object Object]",fc="[object RegExp]",dc="[object Set]",hc="[object String]",pc="[object WeakMap]",vc="[object ArrayBuffer]",mc="[object DataView]",yc="[object Float32Array]",gc="[object Float64Array]",_c="[object Int8Array]",$c="[object Int16Array]",jc="[object Int32Array]",Ec="[object Uint8Array]",bc="[object Uint8ClampedArray]",Sc="[object Uint16Array]",wc="[object Uint32Array]",se={};se[yc]=se[gc]=se[_c]=se[$c]=se[jc]=se[Ec]=se[bc]=se[Sc]=se[wc]=!0;se[rc]=se[nc]=se[vc]=se[sc]=se[mc]=se[ic]=se[ac]=se[oc]=se[lc]=se[cc]=se[uc]=se[fc]=se[dc]=se[hc]=se[pc]=!1;function Pc(e){return Be(e)&&da(e.length)&&!!se[Pt(e)]}function xn(e){return function(t){return e(t)}}var va=typeof we=="object"&&we&&!we.nodeType&&we,fr=va&&typeof Pe=="object"&&Pe&&!Pe.nodeType&&Pe,Oc=fr&&fr.exports===va,Sn=Oc&&oa.process,Tc=function(){try{var e=fr&&fr.require&&fr.require("util").types;return e||Sn&&Sn.binding&&Sn.binding("util")}catch{}}(),Kt=Tc,$i=Kt&&Kt.isTypedArray,Fc=$i?xn($i):Pc,es=Fc,Ac=Object.prototype,Cc=Ac.hasOwnProperty;function ma(e,t){var r=Ge(e),n=!r&&Mn(e),s=!r&&!n&&gr(e),i=!r&&!n&&!s&&es(e),a=r||n||s||i,l=a?Jl(e.length,String):[],u=l.length;for(var f in e)(t||Cc.call(e,f))&&!(a&&(f=="length"||s&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||Wn(f,u)))&&l.push(f);return l}function ya(e,t){return function(r){return e(t(r))}}var Mc=ya(Object.keys,Object),Nc=Mc,Vc=Object.prototype,Ic=Vc.hasOwnProperty;function Rc(e){if(!Zn(e))return Nc(e);var t=[];for(var r in Object(e))Ic.call(e,r)&&r!="constructor"&&t.push(r);return t}function ts(e){return cn(e)?ma(e):Rc(e)}function Dc(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var kc=Object.prototype,Lc=kc.hasOwnProperty;function Hc(e){if(!Je(e))return Dc(e);var t=Zn(e),r=[];for(var n in e)n=="constructor"&&(t||!Lc.call(e,n))||r.push(n);return r}function Or(e){return cn(e)?ma(e,!0):Hc(e)}var Uc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qc=/^\w*$/;function zc(e,t){if(Ge(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Jn(e)?!0:qc.test(e)||!Uc.test(e)||t!=null&&e in Object(t)}var Kc=Tt(Object,"create"),_r=Kc;function Bc(){this.__data__=_r?_r(null):{},this.size=0}function Gc(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Jc="__lodash_hash_undefined__",Xc=Object.prototype,Wc=Xc.hasOwnProperty;function Yc(e){var t=this.__data__;if(_r){var r=t[e];return r===Jc?void 0:r}return Wc.call(t,e)?t[e]:void 0}var Qc=Object.prototype,Zc=Qc.hasOwnProperty;function xc(e){var t=this.__data__;return _r?t[e]!==void 0:Zc.call(t,e)}var eu="__lodash_hash_undefined__";function tu(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=_r&&t===void 0?eu:t,this}function bt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bt.prototype.clear=Bc;bt.prototype.delete=Gc;bt.prototype.get=Yc;bt.prototype.has=xc;bt.prototype.set=tu;function ru(){this.__data__=[],this.size=0}function un(e,t){for(var r=e.length;r--;)if(wr(e[r][0],t))return r;return-1}var nu=Array.prototype,su=nu.splice;function iu(e){var t=this.__data__,r=un(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():su.call(t,r,1),--this.size,!0}function au(e){var t=this.__data__,r=un(t,e);return r<0?void 0:t[r][1]}function ou(e){return un(this.__data__,e)>-1}function lu(e,t){var r=this.__data__,n=un(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function tt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}tt.prototype.clear=ru;tt.prototype.delete=iu;tt.prototype.get=au;tt.prototype.has=ou;tt.prototype.set=lu;var cu=Tt(Xe,"Map"),$r=cu;function uu(){this.size=0,this.__data__={hash:new bt,map:new($r||tt),string:new bt}}function fu(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function fn(e,t){var r=e.__data__;return fu(t)?r[typeof t=="string"?"string":"hash"]:r.map}function du(e){var t=fn(this,e).delete(e);return this.size-=t?1:0,t}function hu(e){return fn(this,e).get(e)}function pu(e){return fn(this,e).has(e)}function vu(e,t){var r=fn(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function rt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}rt.prototype.clear=uu;rt.prototype.delete=du;rt.prototype.get=hu;rt.prototype.has=pu;rt.prototype.set=vu;var mu="Expected a function";function rs(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(mu);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var a=e.apply(this,n);return r.cache=i.set(s,a)||i,a};return r.cache=new(rs.Cache||rt),r}rs.Cache=rt;var yu=500;function gu(e){var t=rs(e,function(n){return r.size===yu&&r.clear(),n}),r=t.cache;return t}var _u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$u=/\\(\\)?/g,ju=gu(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(_u,function(r,n,s,i){t.push(s?i.replace($u,"$1"):n||r)}),t}),Eu=ju;function bu(e){return e==null?"":ca(e)}function ga(e,t){return Ge(e)?e:zc(e,t)?[e]:Eu(bu(e))}var Su=1/0;function _a(e){if(typeof e=="string"||Jn(e))return e;var t=e+"";return t=="0"&&1/e==-Su?"-0":t}function wu(e,t){t=ga(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[_a(t[r++])];return r&&r==n?e:void 0}function ct(e,t,r){var n=e==null?void 0:wu(e,t);return n===void 0?r:n}function $a(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var Pu=ya(Object.getPrototypeOf,Object),ns=Pu,Ou="[object Object]",Tu=Function.prototype,Fu=Object.prototype,ja=Tu.toString,Au=Fu.hasOwnProperty,Cu=ja.call(Object);function Mu(e){if(!Be(e)||Pt(e)!=Ou)return!1;var t=ns(e);if(t===null)return!0;var r=Au.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&ja.call(r)==Cu}function Nu(){this.__data__=new tt,this.size=0}function Vu(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Iu(e){return this.__data__.get(e)}function Ru(e){return this.__data__.has(e)}var Du=200;function ku(e,t){var r=this.__data__;if(r instanceof tt){var n=r.__data__;if(!$r||n.length<Du-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new rt(n)}return r.set(e,t),this.size=r.size,this}function ze(e){var t=this.__data__=new tt(e);this.size=t.size}ze.prototype.clear=Nu;ze.prototype.delete=Vu;ze.prototype.get=Iu;ze.prototype.has=Ru;ze.prototype.set=ku;function Lu(e,t){return e&&Pr(t,ts(t),e)}function Hu(e,t){return e&&Pr(t,Or(t),e)}var Ea=typeof we=="object"&&we&&!we.nodeType&&we,ji=Ea&&typeof Pe=="object"&&Pe&&!Pe.nodeType&&Pe,Uu=ji&&ji.exports===Ea,Ei=Uu?Xe.Buffer:void 0,bi=Ei?Ei.allocUnsafe:void 0;function ba(e,t){if(t)return e.slice();var r=e.length,n=bi?bi(r):new e.constructor(r);return e.copy(n),n}function qu(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[s++]=a)}return i}function Sa(){return[]}var zu=Object.prototype,Ku=zu.propertyIsEnumerable,Si=Object.getOwnPropertySymbols,Bu=Si?function(e){return e==null?[]:(e=Object(e),qu(Si(e),function(t){return Ku.call(e,t)}))}:Sa,ss=Bu;function Gu(e,t){return Pr(e,ss(e),t)}var Ju=Object.getOwnPropertySymbols,Xu=Ju?function(e){for(var t=[];e;)$a(t,ss(e)),e=ns(e);return t}:Sa,wa=Xu;function Wu(e,t){return Pr(e,wa(e),t)}function Pa(e,t,r){var n=t(e);return Ge(e)?n:$a(n,r(e))}function Nn(e){return Pa(e,ts,ss)}function Yu(e){return Pa(e,Or,wa)}var Qu=Tt(Xe,"DataView"),Vn=Qu,Zu=Tt(Xe,"Promise"),In=Zu,xu=Tt(Xe,"Set"),Rn=xu,wi="[object Map]",ef="[object Object]",Pi="[object Promise]",Oi="[object Set]",Ti="[object WeakMap]",Fi="[object DataView]",tf=Ot(Vn),rf=Ot($r),nf=Ot(In),sf=Ot(Rn),af=Ot(Cn),_t=Pt;(Vn&&_t(new Vn(new ArrayBuffer(1)))!=Fi||$r&&_t(new $r)!=wi||In&&_t(In.resolve())!=Pi||Rn&&_t(new Rn)!=Oi||Cn&&_t(new Cn)!=Ti)&&(_t=function(e){var t=Pt(e),r=t==ef?e.constructor:void 0,n=r?Ot(r):"";if(n)switch(n){case tf:return Fi;case rf:return wi;case nf:return Pi;case sf:return Oi;case af:return Ti}return t});var jr=_t,of=Object.prototype,lf=of.hasOwnProperty;function cf(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&lf.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var uf=Xe.Uint8Array,en=uf;function is(e){var t=new e.constructor(e.byteLength);return new en(t).set(new en(e)),t}function ff(e,t){var r=t?is(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var df=/\w*$/;function hf(e){var t=new e.constructor(e.source,df.exec(e));return t.lastIndex=e.lastIndex,t}var Ai=Ke?Ke.prototype:void 0,Ci=Ai?Ai.valueOf:void 0;function pf(e){return Ci?Object(Ci.call(e)):{}}function Oa(e,t){var r=t?is(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var vf="[object Boolean]",mf="[object Date]",yf="[object Map]",gf="[object Number]",_f="[object RegExp]",$f="[object Set]",jf="[object String]",Ef="[object Symbol]",bf="[object ArrayBuffer]",Sf="[object DataView]",wf="[object Float32Array]",Pf="[object Float64Array]",Of="[object Int8Array]",Tf="[object Int16Array]",Ff="[object Int32Array]",Af="[object Uint8Array]",Cf="[object Uint8ClampedArray]",Mf="[object Uint16Array]",Nf="[object Uint32Array]";function Vf(e,t,r){var n=e.constructor;switch(t){case bf:return is(e);case vf:case mf:return new n(+e);case Sf:return ff(e,r);case wf:case Pf:case Of:case Tf:case Ff:case Af:case Cf:case Mf:case Nf:return Oa(e,r);case yf:return new n;case gf:case jf:return new n(e);case _f:return hf(e);case $f:return new n;case Ef:return pf(e)}}function Ta(e){return typeof e.constructor=="function"&&!Zn(e)?Sl(ns(e)):{}}var If="[object Map]";function Rf(e){return Be(e)&&jr(e)==If}var Mi=Kt&&Kt.isMap,Df=Mi?xn(Mi):Rf,kf=Df,Lf="[object Set]";function Hf(e){return Be(e)&&jr(e)==Lf}var Ni=Kt&&Kt.isSet,Uf=Ni?xn(Ni):Hf,qf=Uf,zf=1,Kf=2,Bf=4,Fa="[object Arguments]",Gf="[object Array]",Jf="[object Boolean]",Xf="[object Date]",Wf="[object Error]",Aa="[object Function]",Yf="[object GeneratorFunction]",Qf="[object Map]",Zf="[object Number]",Ca="[object Object]",xf="[object RegExp]",ed="[object Set]",td="[object String]",rd="[object Symbol]",nd="[object WeakMap]",sd="[object ArrayBuffer]",id="[object DataView]",ad="[object Float32Array]",od="[object Float64Array]",ld="[object Int8Array]",cd="[object Int16Array]",ud="[object Int32Array]",fd="[object Uint8Array]",dd="[object Uint8ClampedArray]",hd="[object Uint16Array]",pd="[object Uint32Array]",re={};re[Fa]=re[Gf]=re[sd]=re[id]=re[Jf]=re[Xf]=re[ad]=re[od]=re[ld]=re[cd]=re[ud]=re[Qf]=re[Zf]=re[Ca]=re[xf]=re[ed]=re[td]=re[rd]=re[fd]=re[dd]=re[hd]=re[pd]=!0;re[Wf]=re[Aa]=re[nd]=!1;function Jr(e,t,r,n,s,i){var a,l=t&zf,u=t&Kf,f=t&Bf;if(r&&(a=s?r(e,n,s,i):r(e)),a!==void 0)return a;if(!Je(e))return e;var d=Ge(e);if(d){if(a=cf(e),!l)return fa(e,a)}else{var y=jr(e),S=y==Aa||y==Yf;if(gr(e))return ba(e,l);if(y==Ca||y==Fa||S&&!s){if(a=u||S?{}:Ta(e),!l)return u?Wu(e,Hu(a,e)):Gu(e,Lu(a,e))}else{if(!re[y])return s?e:{};a=Vf(e,y,l)}}i||(i=new ze);var A=i.get(e);if(A)return A;i.set(e,a),qf(e)?e.forEach(function(g){a.add(Jr(g,t,r,g,e,i))}):kf(e)&&e.forEach(function(g,h){a.set(h,Jr(g,t,r,h,e,i))});var _=f?u?Yu:Nn:u?Or:ts,$=d?void 0:_(e);return Rl($||e,function(g,h){$&&(h=g,g=e[h]),Qn(a,h,Jr(g,t,r,h,e,i))}),a}var vd=1,md=4;function dn(e){return Jr(e,vd|md)}var yd="__lodash_hash_undefined__";function gd(e){return this.__data__.set(e,yd),this}function _d(e){return this.__data__.has(e)}function tn(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new rt;++t<r;)this.add(e[t])}tn.prototype.add=tn.prototype.push=gd;tn.prototype.has=_d;function $d(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function jd(e,t){return e.has(t)}var Ed=1,bd=2;function Ma(e,t,r,n,s,i){var a=r&Ed,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var f=i.get(e),d=i.get(t);if(f&&d)return f==t&&d==e;var y=-1,S=!0,A=r&bd?new tn:void 0;for(i.set(e,t),i.set(t,e);++y<l;){var _=e[y],$=t[y];if(n)var g=a?n($,_,y,t,e,i):n(_,$,y,e,t,i);if(g!==void 0){if(g)continue;S=!1;break}if(A){if(!$d(t,function(h,E){if(!jd(A,E)&&(_===h||s(_,h,r,n,i)))return A.push(E)})){S=!1;break}}else if(!(_===$||s(_,$,r,n,i))){S=!1;break}}return i.delete(e),i.delete(t),S}function Sd(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}function wd(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Pd=1,Od=2,Td="[object Boolean]",Fd="[object Date]",Ad="[object Error]",Cd="[object Map]",Md="[object Number]",Nd="[object RegExp]",Vd="[object Set]",Id="[object String]",Rd="[object Symbol]",Dd="[object ArrayBuffer]",kd="[object DataView]",Vi=Ke?Ke.prototype:void 0,wn=Vi?Vi.valueOf:void 0;function Ld(e,t,r,n,s,i,a){switch(r){case kd:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Dd:return!(e.byteLength!=t.byteLength||!i(new en(e),new en(t)));case Td:case Fd:case Md:return wr(+e,+t);case Ad:return e.name==t.name&&e.message==t.message;case Nd:case Id:return e==t+"";case Cd:var l=Sd;case Vd:var u=n&Pd;if(l||(l=wd),e.size!=t.size&&!u)return!1;var f=a.get(e);if(f)return f==t;n|=Od,a.set(e,t);var d=Ma(l(e),l(t),n,s,i,a);return a.delete(e),d;case Rd:if(wn)return wn.call(e)==wn.call(t)}return!1}var Hd=1,Ud=Object.prototype,qd=Ud.hasOwnProperty;function zd(e,t,r,n,s,i){var a=r&Hd,l=Nn(e),u=l.length,f=Nn(t),d=f.length;if(u!=d&&!a)return!1;for(var y=u;y--;){var S=l[y];if(!(a?S in t:qd.call(t,S)))return!1}var A=i.get(e),_=i.get(t);if(A&&_)return A==t&&_==e;var $=!0;i.set(e,t),i.set(t,e);for(var g=a;++y<u;){S=l[y];var h=e[S],E=t[S];if(n)var T=a?n(E,h,S,t,e,i):n(h,E,S,e,t,i);if(!(T===void 0?h===E||s(h,E,r,n,i):T)){$=!1;break}g||(g=S=="constructor")}if($&&!g){var M=e.constructor,V=t.constructor;M!=V&&"constructor"in e&&"constructor"in t&&!(typeof M=="function"&&M instanceof M&&typeof V=="function"&&V instanceof V)&&($=!1)}return i.delete(e),i.delete(t),$}var Kd=1,Ii="[object Arguments]",Ri="[object Array]",Lr="[object Object]",Bd=Object.prototype,Di=Bd.hasOwnProperty;function Gd(e,t,r,n,s,i){var a=Ge(e),l=Ge(t),u=a?Ri:jr(e),f=l?Ri:jr(t);u=u==Ii?Lr:u,f=f==Ii?Lr:f;var d=u==Lr,y=f==Lr,S=u==f;if(S&&gr(e)){if(!gr(t))return!1;a=!0,d=!1}if(S&&!d)return i||(i=new ze),a||es(e)?Ma(e,t,r,n,s,i):Ld(e,t,u,r,n,s,i);if(!(r&Kd)){var A=d&&Di.call(e,"__wrapped__"),_=y&&Di.call(t,"__wrapped__");if(A||_){var $=A?e.value():e,g=_?t.value():t;return i||(i=new ze),s($,g,r,n,i)}}return S?(i||(i=new ze),zd(e,t,r,n,s,i)):!1}function Na(e,t,r,n,s){return e===t?!0:e==null||t==null||!Be(e)&&!Be(t)?e!==e&&t!==t:Gd(e,t,r,n,Na,s)}function Jd(e){return function(t,r,n){for(var s=-1,i=Object(t),a=n(t),l=a.length;l--;){var u=a[e?l:++s];if(r(i[u],u,i)===!1)break}return t}}var Xd=Jd(),Wd=Xd;function Dn(e,t,r){(r!==void 0&&!wr(e[t],r)||r===void 0&&!(t in e))&&Yn(e,t,r)}function Yd(e){return Be(e)&&cn(e)}function kn(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function Qd(e){return Pr(e,Or(e))}function Zd(e,t,r,n,s,i,a){var l=kn(e,r),u=kn(t,r),f=a.get(u);if(f){Dn(e,r,f);return}var d=i?i(l,u,r+"",e,t,a):void 0,y=d===void 0;if(y){var S=Ge(u),A=!S&&gr(u),_=!S&&!A&&es(u);d=u,S||A||_?Ge(l)?d=l:Yd(l)?d=fa(l):A?(y=!1,d=ba(u,!0)):_?(y=!1,d=Oa(u,!0)):d=[]:Mu(u)||Mn(u)?(d=l,Mn(l)?d=Qd(l):(!Je(l)||Xn(l))&&(d=Ta(u))):y=!1}y&&(a.set(u,d),s(d,u,n,i,a),a.delete(u)),Dn(e,r,d)}function Va(e,t,r,n,s){e!==t&&Wd(t,function(i,a){if(s||(s=new ze),Je(i))Zd(e,t,a,r,Va,n,s);else{var l=n?n(kn(e,a),i,a+"",e,t,s):void 0;l===void 0&&(l=i),Dn(e,a,l)}},Or)}function Jt(e,t){return Na(e,t)}var xd=Bl(function(e,t,r){Va(e,t,r)}),at=xd;function eh(e,t,r,n){if(!Je(e))return e;t=ga(t,e);for(var s=-1,i=t.length,a=i-1,l=e;l!=null&&++s<i;){var u=_a(t[s]),f=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(s!=a){var d=l[u];f=n?n(d,u,l):void 0,f===void 0&&(f=Je(d)?d:Wn(t[s+1])?[]:{})}Qn(l,u,f),l=l[u]}return e}function Qe(e,t,r){return e==null?e:eh(e,t,r)}const th={vfjsComputedFieldHasErrors(){const{vfjsFieldErrors:e}=this.vfjsFieldState;return e&&e.length>0},vfjsComputedShowFieldErrors(){const{vfjsFieldDirty:e,vfjsFieldBlur:t}=this.vfjsFieldState,{showValidationErrors:r}=this.vfjsOptions;return e&&t||r},vfjsComputedFieldErrorOptions(){return this.vfjsComputedShowFieldErrors&&this.vfjsComputedFieldHasErrors?this.vfjsFieldErrorOptions:{}},vfjsComputedFieldAttrs(){const e=this.vfjsFieldHelperAttrsRequired(),t=this.vfjsFieldHelperAttrsValue(),r=this.vfjsFieldHelperAttrsChecked(),n={};return typeof e!="undefined"&&(n.required=e),typeof t!="undefined"&&(n.value=t),typeof r!="undefined"&&(n.checked=r),n},vfjsComputedFieldDomProps(){const e=this.vfjsFieldHelperDomPropsInnerHTML(),t=this.vfjsFieldHelperDomPropsValue(),r=this.vfjsFieldHelperDomPropsChecked(),n={};return typeof e!="undefined"&&(n.innerHTML=e),typeof t!="undefined"&&(n.value=t),typeof r!="undefined"&&(n.checked=r),n},vfjsComputedFieldProps(){const e=this.vfjsFieldHelperPropsRequired(),t={};return typeof e!="undefined"&&(t.required=e),t},vfjsComputedFieldOptions(){return ue(D(D(D({},this.vfjsComputedFieldAttrs),this.vfjsComputedFieldDomProps),this.vfjsComputedFieldProps),{key:this.vfjsFieldOptions.key||this.vfjsFieldId,directives:this.vfjsFieldOptions.directives})},vfjsComputedMergedFieldOptions(){return at({},this.vfjsComputedFieldErrorOptions,this.vfjsComputedFieldOptions)}},Tr="VFJS_EVENT_FIELD_STATE_UPDATE",hn="VFJS_EVENT_FIELD_MODEL_VALIDATE",pn="VFJS_EVENT_FIELD_MODEL_UPDATE",as="VFJS_EVENT_FIELD_MODEL_CLEAR_HIDDEN",os="VFJS_EVENT_FIELD_MODELS_VALIDATE",rh="VFJS_EVENT_MODEL_UPDATE",ls="VFJS_EVENT_MODEL_UPDATED",ut="VFJS_EVENT_MODEL_VALIDATE",ft="VFJS_EVENT_STATE_UPDATE",et="VFJS_EVENT_STATE_UPDATED",Fr="VFJS_EVENT_UI_FIELDS_UPDATE",cs="components",rn="update:modelValue",us="update:state",fs="update:validated",nh="id",Ar="modelValue",ds="options",hs="schema",sh="schemas",ih="tag",Er="uiSchema",ah=[rn,us,fs,Ar];function oh(){return this.$slots}function lh(){return this.getVfjsFieldAttributes(this.vfjsFieldOptions,this.vfjsComputedMergedFieldOptions)}function Ia(e){let t=D({},e);return"attrs"in e&&(delete t.attrs,t=D(D({},t),e.attrs)),"domProps"in e&&(delete t.domProps,t=D(D({},t),e.domProps)),"props"in e&&(delete t.props,t=D(D({},t),e.props)),t}function ch(e={},t={}){var r=e,{class:n,on:s,nativeOn:i}=r,a=zt(r,["class","on","nativeOn"]),l=t,{class:u,on:f,nativeOn:d}=l,y=zt(l,["class","on","nativeOn"]);if(!a)return{};const S=at({},this.vfjsFieldHelperFormatClasses(n),this.vfjsFieldHelperFormatClasses(u)),A=at(this.vfjsFieldHelperFormatEvents(s),this.vfjsFieldHelperFormatEvents(f)),_=at(this.vfjsFieldHelperFormatEvents(i),this.vfjsFieldHelperFormatEvents(d)),$=D(D({class:S},A),_),g=this.vfjsInternalModel||this.vfjsFieldValueModel||this.vfjsFieldModel,h={[this.vfjsFieldValueProp]:g},E=at({},y,a,$,h);return Ia(E)}var uh=Object.freeze(Object.defineProperty({__proto__:null,getVfjsChildren:oh,getVfjsAttributes:lh,getVfjsFieldAttributes:ch},Symbol.toStringTag,{value:"Module"}));function fh(e,t){e.addEventListener(t,this.vfjsFieldHelperStateEventHandler)}function dh(){const{checked:e=[]}=this.vfjsOptions.componentProperties.attrs;if(this.vfjsFieldHelperComponentMatchesComponentProperties(e)&&this.vfjsFieldOptions.attrs)return typeof this.vfjsFieldModel!="undefined"&&this.vfjsFieldModel===this.vfjsFieldOptions.attrs.value?!0:this.vfjsFieldOptions.attrs.checked}function hh(){const{required:e=[]}=this.vfjsOptions.componentProperties.attrs;if(this.vfjsFieldHelperComponentMatchesComponentProperties(e))return this.vfjsFieldRequired}function ph(){const{value:e=[]}=this.vfjsOptions.componentProperties.attrs;if(this.vfjsFieldHelperComponentMatchesComponentProperties(e))return this.vfjsFieldModel?this.vfjsFieldModel:this.vfjsFieldOptions.attrs&&this.vfjsFieldOptions.attrs.value}function vh(e){return e.some(t=>{if(typeof t=="string")return this.vfjsComponent===t;if(typeof t=="object"){const r=t,{component:n}=r,s=zt(r,["component"]);if(this.vfjsComponent===n)return Object.keys(s).every(i=>{if(i in this.vfjsFieldOptions){const a=s[i];return Object.keys(a).every(l=>this.vfjsFieldOptions[i][l]===a[l])}return!1})}return!1})}function mh(){const{checked:e=[]}=this.vfjsOptions.componentProperties.domProps;if(this.vfjsFieldHelperComponentMatchesComponentProperties(e)&&this.vfjsFieldOptions.domProps)return this.vfjsFieldModel===this.vfjsFieldOptions.domProps.value?!0:this.vfjsFieldOptions.domProps.checked}function yh(){const{innerHTML:e=[]}=this.vfjsOptions.componentProperties.domProps;if(this.vfjsFieldHelperComponentMatchesComponentProperties(e))return this.vfjsFieldModel?this.vfjsFieldModel:this.vfjsFieldOptions.domProps&&this.vfjsFieldOptions.domProps.innerHTML}function gh(){const{value:e=[]}=this.vfjsOptions.componentProperties.domProps;if(this.vfjsFieldHelperComponentMatchesComponentProperties(e))return this.vfjsFieldModel?this.vfjsFieldModel:this.vfjsFieldOptions.domProps&&this.vfjsFieldOptions.domProps.value}function _h(e,t){return(...n)=>{const[s]=n;let i=s;return typeof t=="function"?i=t(...n):s instanceof Event&&s.target&&typeof s.target[this.vfjsFieldEventProp]!="undefined"&&(i=s.target[this.vfjsFieldEventProp]),this.vfjsFieldHelperInternalModelEnabledForEvent(e)&&(this.vfjsInternalModel=i),this.setVfjsFieldModel(i)}}function $h(e){if(!e)return{};if(typeof e=="string")return{[e]:!0};if(Array.isArray(e))return e.reduce((t,r)=>ue(D({},t),{[r]:!0}),{});if(typeof e=="string"){if(e.indexOf(",")!==-1)return e.split(",");if(e.indexOf(" ")!==-1)return e.split(" ")}return e}function jh(e){if(!e)return{};let t=e;return Array.isArray(e)?t=e.reduce((r,n)=>ue(D({},r),{[n]:!0}),{}):typeof e=="string"&&(t={[e]:!0}),this.vfjsFieldHelperFormatEventsReducer(t)}function Eh(e={}){return Object.keys(e).reduce((t,r)=>{const n=r.substring(1),i=`on${r[0].toUpperCase()}${n}`;return ue(D({},t),{[i]:this.vfjsFieldHelperEventHandler(r,e[r])})},{})}function bh(e){return this.vfjsFieldInternalModel?Array.isArray(this.vfjsFieldInternalModel)?this.vfjsFieldInternalModel.indexOf(e)>=0:this.vfjsFieldInternalModel===!0:!1}function Sh(){const{required:e=[]}=this.vfjsOptions.componentProperties;if(this.vfjsFieldHelperComponentMatchesComponentProperties(e))return this.vfjsFieldRequired}function wh(e,t){e.removeEventListener(t,this.vfjsFieldHelperStateEventHandler)}function Ph(e){if(e&&e.type==="blur"){const t=this.vfjsFieldState.vfjsFieldBlur;this.setVfjsFieldState(ue(D({},this.vfjsFieldState),{vfjsFieldBlur:!0})),t||this.vfjsBus.$emit(Fr)}}var Oh=Object.freeze(Object.defineProperty({__proto__:null,vfjsFieldHelperAddListener:fh,vfjsFieldHelperAttrsChecked:dh,vfjsFieldHelperAttrsRequired:hh,vfjsFieldHelperAttrsValue:ph,vfjsFieldHelperComponentMatchesComponentProperties:vh,vfjsFieldHelperDomPropsChecked:mh,vfjsFieldHelperDomPropsInnerHTML:yh,vfjsFieldHelperDomPropsValue:gh,vfjsFieldHelperEventHandler:_h,vfjsFieldHelperFormatClasses:$h,vfjsFieldHelperFormatEvents:jh,vfjsFieldHelperFormatEventsReducer:Eh,vfjsFieldHelperInternalModelEnabledForEvent:bh,vfjsFieldHelperPropsRequired:Sh,vfjsFieldHelperRemoveListener:wh,vfjsFieldHelperStateEventHandler:Ph},Symbol.toStringTag,{value:"Module"}));function Th(e){this.setVfjsFieldModel(e)}function Fh(e){this.setVfjsFieldState(e)}function Ah(e,t){this.vfjsBus.$emit(pn,{key:t||this.vfjsFieldModelKey,value:e})}function Ch(e,t){this.vfjsBus.$emit(Tr,{key:t||this.vfjsFieldModelKey,value:e})}var Mh=Object.freeze(Object.defineProperty({__proto__:null,setModel:Th,setState:Fh,setVfjsFieldModel:Ah,setVfjsFieldState:Ch},Symbol.toStringTag,{value:"Module"}));const Nh=D(D(D({},uh),Oh),Mh),Vh={vfjsBus:{type:Object,required:!0},vfjsChildren:{type:Array,default:()=>[]},vfjsChildrenUiSchema:{type:Array,default:()=>[]},vfjsComponent:{type:[String,Object,Function]},vfjsFieldErrorHandler:{type:Boolean},vfjsFieldErrorOptions:{type:Object},vfjsFieldErrors:{type:Array},vfjsFieldEventProp:{type:String},vfjsFieldId:{type:String,required:!0},vfjsFieldInternalModel:{type:[Boolean,Array],required:!0},vfjsFieldModel:{type:null},vfjsFieldModelKey:{type:[String,Boolean],required:!0},vfjsFieldOptions:{type:Object,required:!0},vfjsFieldRequired:{type:Boolean,required:!0},vfjsFieldSchema:{type:Object,required:!0},vfjsFieldSchemas:{type:Object},vfjsFieldState:{type:Object,required:!0},vfjsFieldTag:{type:String,default:"div"},vfjsFieldUiSchema:{type:Object,required:!0},vfjsFieldValueProp:{type:String},vfjsFieldValueModel:{type:null},vfjsFieldValueModelKey:{type:[String,Boolean]},vfjsOptions:{type:Object,required:!0},vfjsModel:{type:Object,required:!0},vfjsState:{type:Object,required:!0}},Ih={data(){return{vfjsInternalModel:void 0}},computed:th,props:Vh,emits:ah,methods:Nh,beforeUpdate(){this.vfjsFieldInternalModel&&(this.vfjsInternalModel=void 0)},mounted(){this.vfjsFieldHelperAddListener(this.$el,"blur")},beforeUnmount(){this.vfjsFieldHelperRemoveListener(this.$el,"blur")}},br=(...e)=>(Co||window.Vue.h||globalThis.$createElement)(...e),Rh={name:"vue-form-json-schema-field-component",mixins:[Ih],render(){return br(Mo(this.vfjsComponent),D({},this.getVfjsAttributes()),this.getVfjsChildren())}},Dh={vfjsSchemaValid(){return this.vfjsSchema.every(this.isVfjsFieldSchemaValid)},vfjsModelValid(){return this.vfjsSchema.every(this.isVfjsFieldModelValid)}},kh=()=>({vfjsBus:{},vfjsEvents:[as,pn,hn,os,Tr,rh,ls,ut,ft,et,Fr],vfjsFields:[],vfjsFieldsActive:[],vfjsFieldsActiveModels:[],vfjsFieldsRequired:[],vfjsModel:{},vfjsOptions:{ajv:{keywords:{},locale:null,options:{allErrors:!0}},allowInvalidModel:!0,castToSchemaType:!1,componentProperties:{attrs:{checked:[{component:"input",attrs:{type:"checkbox"}},{component:"input",attrs:{type:"radio"}}],required:["input","select","textarea"],value:["input","option","textarea"]},domProps:{checked:[{component:"input",attrs:{type:"checkbox"}},{component:"input",attrs:{type:"radio"}}],required:["input","select","textarea"],value:["input","textarea"]},props:{required:[]},innerHTML:["textarea"]},showValidationErrors:!1,validate:!0,validateOnLoad:!0,validateOnChange:!0,valueProp:"value",eventProp:"value"},vfjsSchema:{},vfjsState:{},vfjsUiSchema:[]});function Lh(e,t){this.vfjsBus.$on(e,r=>t(e,r))}function Hh(e=[],t){e.forEach(r=>this.addVfjsListener(r,t))}function Uh(e){this.vfjsBus.$off(e)}function qh(e=[]){e.forEach(this.removeVfjsListener)}function zh(){this.vfjsBus.$off()}class Kh{constructor(){this.events={}}$on(t,r){this.events[t]||(this.events[t]=[]),this.events[t].push(r)}$off(t,r){this.events[t]&&(this.events[t]=this.events[t].filter(n=>n===r))}$emit(t,r){this.events[t]&&this.events[t].forEach(n=>n(r))}}function Bh(){this.vfjsBus=new Kh}function Gh(){const e=this.vfjsHelperGetFieldsWithClearOnHide(this[Er]),t=this.vfjsHelperGetFieldsWithClearOnHide(this.vfjsFieldsActive),r=Object.keys(e).reduce((n,s)=>(s in t||(n[s]=e[s]),n),{});Object.keys(r).forEach(n=>{const s=r[n];if(Array.isArray(s))s.forEach(i=>{const a=this.vfjsHelperApplyFieldModel(typeof i=="string"?i:n,void 0);this.setVfjsModel(a,!0)});else{const i=this.vfjsHelperApplyFieldModel(typeof s=="string"?s:n,void 0);this.setVfjsModel(i,!0)}})}function Jh({key:e,value:t,cb:r}){const n={};Qe(n,e,t);const s=this.getVfjsValidationSchema(e,t),i=this.getVfjsValidationErrors(n,s);r&&typeof r=="function"&&r(i)}function Xh({vfjsModel:e,cb:t}){const r=this.vfjsFieldsActiveModels.map(n=>{const s=ct(e,n);return new Promise(i=>{this.vfjsBus.$emit(hn,{value:s,key:n,cb:a=>{const l=this.getVfjsFieldState(n);i({[n]:ue(D({},l),{vfjsFieldErrors:a})})}})})});Promise.all(r).then(n=>{const s=n.reduce((i,a)=>D(D({},i),a),{});t&&typeof t=="function"&&t(s)})}function Wh({key:e,value:t,cb:r}){let n=t;const{castToSchemaType:s=!1}=this.vfjsOptions;s&&(n=this.vfjsHelperCastValueToSchemaType(e,n));const i=this.vfjsHelperApplyFieldModel(e,n);this.vfjsBus.$emit(ut,{vfjsModel:i,cb:a=>{const l=this.getVfjsFieldModel(e);Jt(l,n)||Qe(a,`${e}.vfjsFieldDirty`,!0);const u=ct(a,`${e}`),{vfjsFieldErrors:f=[]}=u;this.vfjsBus.$emit(ft,{value:a,cb:()=>{(f.length===0||this.vfjsOptions.allowInvalidModel)&&this.setVfjsModel(i),r&&typeof r=="function"&&r()}})}})}function Yh({key:e,value:t,cb:r}){const n=ue(D({},this.getVfjsState()),{[e]:t});this.vfjsBus.$emit(ft,{value:n,cb:r})}function Qh({vfjsModel:e,cb:t}){this.vfjsBus.$emit(os,{vfjsModel:e,cb:r=>{const n=this.getVfjsValidationErrors(e),s=Object.keys(r).map(l=>r[l]).reduce((l,u)=>[...l,...u.vfjsFieldErrors],[]),i=[...n,...s].reduce((l,u)=>(l.some(d=>Jt(u,d))||l.push(u),l),[]),a=ue(D(D({},this.getVfjsState()),r),{vfjsErrors:i});t&&typeof t=="function"&&t(a)}})}function Zh(){this.setVfjsUiFieldsActive()}function xh(){this.vfjsBus.$emit(Fr),this.vfjsBus.$emit(as),this.$emit(rn,this.getVfjsModel())}function ep({value:e,cb:t}){this.setVfjsState(e),t&&typeof t=="function"&&t()}function tp({cb:e}){const t=D({vfjsErrors:[],vfjsFieldsActive:this.vfjsFieldsActive,vfjsFieldsActiveModels:this.vfjsFieldsActiveModels},this.getVfjsState());this.$emit(us,t),this.$emit(fs,t.vfjsErrors.length===0),e&&typeof e=="function"&&e()}const ki={[as]:Gh,[hn]:Jh,[os]:Xh,[pn]:Wh,[Tr]:Yh,[ut]:Qh,[Fr]:Zh,[ls]:xh,[ft]:ep,[et]:tp};function rp(e,t){e&&e in ki&&ki[e].call(this,t)}const np={addVfjsListener:Lh,addVfjsListeners:Hh,removeVfjsListener:Uh,removeVfjsListeners:qh,removeVfjsListenersAll:zh,vfjsBusInitialize:Bh,vfjsBusEventHandler:rp};function sp(e,t){const r=this.getVfjsModel(),n=dn(r);return Qe(n,e,t),n}function ip(e,t){if(typeof t!="undefined"){const r=this.getVfjsSchema(e);if(!r)return t;if(r.type==="number")return Number(t);if(r.type==="integer")return parseInt(t,10);if(r.type==="boolean"&&(t==="true"||t==="false"||t==="on"))return t==="true"||t==="on"}return t}function ap(e,t,r){var n=e,{model:s,children:i=[]}=n,a=zt(n,["model","children"]);return ue(D({},a),{model:this.vfjsHelperGetChildArrayModelAtIndex(s,t,r),children:this.vfjsHelperChildArrayReducerMapper(t,i,r)})}function op(e,t=[],r){return t.reduce((n,s)=>[...n,this.vfjsHelperChildArrayMapper(s,e,r)],[])}function lp({children:e=[],component:t,props:r}){const n=this.vfjsComponents[t]||t;if(!r.vfjsFieldModelKey)return br(n,D({key:r.vfjsFieldId},this.vfjsHelperFlattenVue2Properties(r.vfjsFieldOptions)),{default:()=>e});const{slot:s}=r.vfjsFieldOptions;return br(Rh,D({key:`${r.key||r.vfjsFieldId}-wrapper`,slot:s,vfjsComponent:n},r),{default:()=>e})}function cp(e){const{component:t,children:r=[],id:n,errorHandler:s,errorOptions:i={},eventProp:a=this.vfjsOptions.eventProp,fieldOptions:l={},model:u="",required:f=!1,valueProp:d=this.vfjsOptions.valueProp,valueModel:y,internalModel:S=!1}=e,A=this.getVfjsFieldSchema(u)||{},_=this.schemas,$=this.getVfjsFieldModel(u),g=this.getVfjsFieldState(u)||{},h=this.getVfjsModel(),E=this.getVfjsState(),T=this.getVfjsFieldValueModel(y),{vfjsFieldErrors:M=[]}=g,{domProps:V}=l,F=s&&M.length>0&&(!V||!V.innerHTML)&&r.length===0?this.vfjsHelperGetErrors(M,n):r.map(this.vfjsHelperCreateField),I={vfjsBus:this.vfjsBus,vfjsChildrenUiSchema:r,vfjsOptions:this.vfjsOptions,vfjsChildren:F,vfjsFieldErrorHandler:s,vfjsFieldErrorOptions:i,vfjsFieldErrors:M,vfjsFieldEventProp:a,vfjsFieldId:n,vfjsFieldInternalModel:S,vfjsFieldModel:$,vfjsFieldModelKey:u,vfjsFieldOptions:l,vfjsFieldRequired:f,vfjsFieldSchema:A,vfjsFieldSchemas:_,vfjsFieldState:g,vfjsFieldUiSchema:e,vfjsFieldValueModel:T,vfjsFieldValueModelKey:y,vfjsFieldValueProp:d,vfjsModel:h,vfjsState:E};return this.vfjsHelperCreateComponent({children:F,component:t,props:I})}function up(e){var t=e,{dynamicOptions:r}=t;if(zt(t,["dynamicOptions"]),!r)return null;if(Array.isArray(r))return r.reduce((a,{schema:l,model:u,options:f})=>this.vfjsHelperSchemaHasErrors(l,u)?at(a,f):a,{});const{schema:n,model:s,options:i}=r;return this.vfjsHelperSchemaHasErrors(n,s)?i:null}function fp(e){if(!e)return!1;const t=this.getVfjsFieldSchema(e);return t?Array.isArray(t.items):!1}function dp(e){return e?this.vfjsFieldsRequired.indexOf(e)!==-1:!1}function hp(e,t){if(!e)return!1;const{children:r=[]}=e;return ue(D({},e),{id:t,children:r.map((n,s)=>this.vfjsHelperGenerateField(n,`${t}-${s}`))})}function pp(e,t,r){const n=this.vfjsHelperGetRelativeModel(e,t);return n?`${t}.${r}.${n}`:e}function vp(e=[],t){return e.map((r,n)=>this.vfjsHelperCreateField({id:`${t}-error-${n}`,component:"div",fieldOptions:{class:["vfjs-error","vfjs-default-error-handler"],domProps:{innerHTML:r.message}}}))}function mp(e,t=[]){return e.reduce((r,{children:n=[],model:s})=>(s&&r.indexOf(s)===-1&&r.push(s),this.vfjsHelperGetFieldsModels(n,r)),t)}function yp(e=[]){return e.reduce((t,{children:r=[],displayOptions:n={},model:s})=>(n.clearOnHide&&(s?t[s]=n.clearOnHide:!s&&typeof n.clearOnHide=="string"&&(t[n.clearOnHide]=n.clearOnHide)),D(D({},t),this.vfjsHelperGetFieldsWithClearOnHide(r))),{})}function gp(e,t){return e&&String(e).substring(t.length+1)}function _p(e,t){const r=typeof t=="undefined"?this.getVfjsModel():this.getVfjsFieldModel(t);return this.ajv.validate(e,r),(this.ajv.errors?this.ajv.errors:[]).length===0}const $p={vfjsHelperApplyFieldModel:sp,vfjsHelperCastValueToSchemaType:ip,vfjsHelperChildArrayMapper:ap,vfjsHelperChildArrayReducerMapper:op,vfjsHelperCreateComponent:lp,vfjsHelperCreateElement:br,vfjsHelperCreateField:cp,vfjsHelperFieldDynamicProperties:up,vfjsHelperFieldIsArray:fp,vfjsHelperFieldIsRequired:dp,vfjsHelperFlattenVue2Properties:Ia,vfjsHelperGenerateField:hp,vfjsHelperGetChildArrayModelAtIndex:pp,vfjsHelperGetErrors:vp,vfjsHelperGetFieldsModels:mp,vfjsHelperGetFieldsWithClearOnHide:yp,vfjsHelperGetRelativeModel:gp,vfjsHelperSchemaHasErrors:_p};function jp(){if(this.setVfjsSchema(this[hs],!0),this.vfjsOptions=D(D({},this.vfjsOptions),this[ds]),this.vfjsComponents=this[cs],this.vfjsBusInitialize(),this.addVfjsListeners(this.vfjsEvents,this.vfjsBusEventHandler),this.setVfjsModel(this[Ar],!0),this.vfjsValidationInitialize(),this.vfjsOptions.validate&&this.vfjsOptions.validateOnLoad){const e=this.getVfjsModel();this.vfjsBus.$emit(ut,{vfjsModel:e,cb:t=>{this.vfjsBus.$emit(ft,{value:t,cb:()=>{this.vfjsBus.$emit(et,{cb:()=>{this.setVfjsUiSchema(this[Er])}})}})}})}else this.setVfjsUiSchema(this[Er])}function Ep(){this.vfjsEvents.forEach(e=>this.removeVfjsListener(e))}const bp={vfjsInitialize:jp,vfjsDestroy:Ep};function Sp(e){return e?this.getVfjsModel(e):this.vfjsFieldModelKey?this.getVfjsModel(this.vfjsFieldModelKey):null}function wp(e){if(typeof e=="string")return this.getVfjsFieldModel(e);if(e===!0)return this.getVfjsModel()}function Pp(e){return!e||e===!0?this.vfjsModel:ct(this.vfjsModel,e)}var Op=Object.freeze(Object.defineProperty({__proto__:null,getVfjsFieldModel:Sp,getVfjsFieldValueModel:wp,getVfjsModel:Pp},Symbol.toStringTag,{value:"Module"}));function Tp(e,t){this.vfjsBus.$emit(pn,{key:t||this.vfjsFieldModelKey,value:e})}function Fp(e,t=!1){Jt(e,this.vfjsModel)||(this.vfjsModel=dn(e),t||this.vfjsBus.$emit(ut,{vfjsModel:this.vfjsModel,cb:r=>{this.vfjsBus.$emit(ft,{value:r,cb:()=>{this.vfjsBus.$emit(et,{cb:()=>{this.vfjsBus.$emit(ls)}})}})}}))}var Ap=Object.freeze(Object.defineProperty({__proto__:null,setVfjsFieldModel:Tp,setVfjsModel:Fp},Symbol.toStringTag,{value:"Module"}));const Cp=D(D({},Op),Ap);function Mp(e){return e?this.getVfjsState(e):this.vfjsFieldModelKey?this.getVfjsState(this.vfjsFieldModelKey):null}function Np(e){return e?ct(this.vfjsState,e):this.vfjsState}var Vp=Object.freeze(Object.defineProperty({__proto__:null,getVfjsFieldState:Mp,getVfjsState:Np},Symbol.toStringTag,{value:"Module"}));function Ip(e,t){this.vfjsBus.$emit(Tr,{key:t||this.vfjsFieldModelKey,value:e})}function Rp(e){const t=this.getVfjsState();Jt(e,t)||(this.vfjsState=Object.assign({},t,e),this.vfjsBus.$emit(et,{}))}var Dp=Object.freeze(Object.defineProperty({__proto__:null,setVfjsFieldState:Ip,setVfjsState:Rp},Symbol.toStringTag,{value:"Module"}));const kp=D(D({},Vp),Dp);function Lp(e){return e?this.getVfjsSchema(e):this.vfjsFieldModelKey?this.getVfjsSchema(this.vfjsFieldModelKey):null}function Hp(e){return e?ct(this.vfjsSchema.properties,e)||this.getVfjsSchemaFallback(e):this.vfjsSchema}function Up(e){const r=String(e).split(".").reduce(this.getVfjsSchemaPath,"");return ct(this.getVfjsSchema(),r)}function qp(e,t){const r=this.getVfjsSchema();if(!e)return r.items?this.getVfjsSchemaPath("items"):`properties.${t}`;const n=ct(r,e);if(n){if(n.items instanceof Array){const s=this.getVfjsSchemaPath(`${e}.items`);return this.getVfjsSchemaPath(`${s}.0`)}if(n.oneOf instanceof Array){const s=n.oneOf.findIndex(i=>i.properties instanceof Object&&Object.keys(i.properties).includes(t));return this.getVfjsSchemaPath(`${e}.oneOf.${s}`,t)}if(n.properties instanceof Object)return this.getVfjsSchemaPath(`${e}.properties`,t)}return t?`${e}.${t}`:e}var zp=Object.freeze(Object.defineProperty({__proto__:null,getVfjsFieldSchema:Lp,getVfjsSchema:Hp,getVfjsSchemaFallback:Up,getVfjsSchemaPath:qp},Symbol.toStringTag,{value:"Module"}));function Kp(e,t=!1){if(!Jt(e,this.vfjsSchema)&&(this.vfjsSchema=dn(e),!t))if(this.vfjsOptions.validate){const r=this.getVfjsModel();this.vfjsBus.$emit(ut,{vfjsModel:r,cb:n=>{this.vfjsBus.$emit(ft,{value:n,cb:()=>{this.vfjsBus.$emit(et,{cb:()=>{this.setVfjsFields()}})}})}})}else this.vfjsBus.$emit(et,{cb:()=>{this.setVfjsFields()}})}var Bp=Object.freeze(Object.defineProperty({__proto__:null,setVfjsSchema:Kp},Symbol.toStringTag,{value:"Module"}));const Gp=D(D({},zp),Bp);function Jp(e=[]){return e.reduce((t,r)=>[...t,this.vfjsHelperCreateField(r)],[])}function Xp(e){return this.getVfjsUiSchema(e)}function Wp(e){if(this.getVfjsUiFieldVisible(e)){const t=this.vfjsHelperFieldIsArray(e.model),r=this.vfjsHelperFieldIsRequired(e.model),n=this.vfjsHelperFieldDynamicProperties(e),s=at({},e,n),{children:i=[]}=s,a=zt(s,["children"]);return t?ue(D({},a),{required:r,children:this.getVfjsUiFieldArrayChildrenActive(e.model,i)}):ue(D({},a),{required:r,children:this.getVfjsUiFieldsActive(i)})}return!1}function Yp(e,t){return(this.getVfjsFieldModel(e)||[]).map((n,s)=>this.vfjsHelperChildArrayReducerMapper(e,t,s)).map(this.getVfjsUiFieldsActive)}function Qp(e){return e.reduce((t,r,n)=>{if(r){const s=this.getVfjsUiField(r);s&&t.push(s)}return t},[])}function Zp(e){if(e.errorHandler&&!this.vfjsOptions.showValidationErrors){const i=this.getVfjsFieldState(e.model);if(!i||i&&(!i.vfjsFieldBlur||!i.vfjsFieldDirty))return!1}if(!e.displayOptions)return!0;const{model:t,schema:r={}}=e.displayOptions,n=typeof t=="undefined"?this.getVfjsModel():this.getVfjsFieldModel(t);return this.ajv.validate(r,n),(this.ajv.errors?this.ajv.errors:[]).length===0}function xp(e){return e?ct(this.vfjsUiSchema,e):this.vfjsUiSchema}var ev=Object.freeze(Object.defineProperty({__proto__:null,getVfjsFields:Jp,getVfjsFieldUiSchema:Xp,getVfjsUiField:Wp,getVfjsUiFieldArrayChildrenActive:Yp,getVfjsUiFieldsActive:Qp,getVfjsUiFieldVisible:Zp,getVfjsUiSchema:xp},Symbol.toStringTag,{value:"Module"}));function tv(e=[]){const t=e.reduce((r,n,s)=>[...r,this.vfjsHelperGenerateField(n,`${this.id}-${s}`)],[]);Jt(t,this.vfjsUiSchema)||(this.vfjsUiSchema=dn(t),this.setVfjsUiFieldsActive())}function rv(){if(this.vfjsFieldsActive=this.getVfjsUiFieldsActive(this.vfjsUiSchema),this.vfjsFieldsActiveModels=this.vfjsHelperGetFieldsModels(this.vfjsFieldsActive),this.vfjsOptions.validate){const e=this.getVfjsModel();this.vfjsBus.$emit(ut,{vfjsModel:e,cb:t=>{this.vfjsBus.$emit(ft,{value:t,cb:()=>{this.vfjsBus.$emit(et,{cb:()=>{this.setVfjsFields()}})}})}})}else this.vfjsBus.$emit(et,{cb:()=>{this.setVfjsFields()}})}function nv(){this.vfjsFields=this.getVfjsFields(this.vfjsFieldsActive)}var sv=Object.freeze(Object.defineProperty({__proto__:null,setVfjsUiSchema:tv,setVfjsUiFieldsActive:rv,setVfjsFields:nv},Symbol.toStringTag,{value:"Module"}));const iv=D(D({},ev),sv);function av(e=[],t=[]){const r=e.filter(n=>t.indexOf(n)===-1);return r.reduce((n,s)=>{n.push(s);const i={};Qe(i,s,{}),this.ajv.validate(this.getVfjsSchema(),i);const a=this.getVfjsPropertiesRequired(this.ajv.errors);if(a.length>0){const l=[...t,...r],u=this.getVfjsChildPropertiesRequired(a,l);n.push(...u)}return n},[])}function ov(e,t){return this.getVfjsValidationErrors(t,this.getVfjsSchema(e))}function lv(e,t){return this.getVfjsFieldModelValidationErrors(e,t).length===0}function cv(){const{ajv:e={}}=this.vfjsOptions,{locale:t}=e;typeof t=="function"&&t(this.ajv.errors)}function uv(e){return e?e.reduce((t,r)=>{if(r.keyword==="required"&&r.params&&r.params.missingProperty){const n=r.params.missingProperty,s=String(r.dataPath).substring(0,1);let i;switch(s){case".":i=r.dataPath.substring(1);break;case"[":i=r.dataPath.substring(2,r.dataPath.length-2).replace("']['",".");break;case"/":i=r.dataPath.substring(1).replace(/\//g,".");break}const a=i?`${i}.${n}`:n;t.indexOf(a)===-1&&t.push(a)}return t},[]):[]}function fv(e,t){const r=t||this.getVfjsSchema(),n=e||this.getVfjsModel(),s=this.ajv.validate(r,n);return this.getVfjsModelValidationErrorsLocalized(),s?[]:this.ajv.errors}function dv(e,t){const r={type:"object",properties:{}},n=this.vfjsHelperFieldIsRequired(e),s=this.getVfjsSchema(e)||{},i=e.split("."),a=[];return i.forEach((l,u)=>{const f=a.map(S=>`properties.${S}`).join("."),d=a.length>0?`${f}.properties.${l}`:`properties.${l}`,y=a.length>0?`${f}.required`:"required";if(u===i.length-1){if(Qe(r,d,s),n&&(Qe(r,y,[l]),this.ajv.RULES.keywords.errorMessage&&s.errorMessage)){const S=a.length>0?`${f}.errorMessage`:"errorMessage";Qe(r,S,s.errorMessage)}}else Qe(r,d,{}),Qe(r,y,[l]);a.push(l)}),r}function hv(){return this.getVfjsValidationErrors().length===0}var pv=Object.freeze(Object.defineProperty({__proto__:null,getVfjsChildPropertiesRequired:av,getVfjsFieldModelValidationErrors:ov,getVfjsFieldModelValid:lv,getVfjsModelValidationErrorsLocalized:cv,getVfjsPropertiesRequired:uv,getVfjsValidationErrors:fv,getVfjsValidationSchema:dv,getVfjsValid:hv},Symbol.toStringTag,{value:"Module"}));function vv(){this.vfjsBus.$emit(ut,{vfjsModel:this.getVfjsModel(),cb:()=>{const e=r=>new Promise((n,s)=>{this.vfjsBus.$emit(hn,{key:r,value:this.getVfjsFieldModel(r),cb:i=>{const a=this.getVfjsFieldState(r);this.vfjsBus.$emit(Tr,{key:r,value:ue(D({},a),{vfjsFieldErrors:i}),cb:()=>{n()}})}})}),t=this.vfjsFieldsRequired.map(e);return Promise.all(t).then(()=>this.vfjsBus.$emit(Fr))}})}var mv=Object.freeze(Object.defineProperty({__proto__:null,setVfjsValidationErrors:vv},Symbol.toStringTag,{value:"Module"})),yv=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function gv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ln={exports:{}},Ra={},Ve={},Bt={},Cr={},J={},Sr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(E){super();if(!e.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(E){super();this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((T,M)=>`${T}${M}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((T,M)=>(M instanceof r&&(T[M.str]=(T[M.str]||0)+1),T),{})}}e._Code=n,e.nil=new n("");function s(h,...E){const T=[h[0]];let M=0;for(;M<E.length;)l(T,E[M]),T.push(h[++M]);return new n(T)}e._=s;const i=new n("+");function a(h,...E){const T=[A(h[0])];let M=0;for(;M<E.length;)T.push(i),l(T,E[M]),T.push(i,A(h[++M]));return u(T),new n(T)}e.str=a;function l(h,E){E instanceof n?h.push(...E._items):E instanceof r?h.push(E):h.push(y(E))}e.addCodeArg=l;function u(h){let E=1;for(;E<h.length-1;){if(h[E]===i){const T=f(h[E-1],h[E+1]);if(T!==void 0){h.splice(E-1,3,T);continue}h[E++]="+"}E++}}function f(h,E){if(E==='""')return h;if(h==='""')return E;if(typeof h=="string")return E instanceof r||h[h.length-1]!=='"'?void 0:typeof E!="string"?`${h.slice(0,-1)}${E}"`:E[0]==='"'?h.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(h instanceof r))return`"${h}${E.slice(1)}`}function d(h,E){return E.emptyStr()?h:h.emptyStr()?E:a`${h}${E}`}e.strConcat=d;function y(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:A(Array.isArray(h)?h.join(","):h)}function S(h){return new n(A(h))}e.stringify=S;function A(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=A;function _(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):s`[${h}]`}e.getProperty=_;function $(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=$;function g(h){return new n(h.toString())}e.regexpCode=g})(Sr);var Hn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Sr;class r extends Error{constructor(f){super(`CodeGen: "code" for ${f} not defined`);this.value=f.value}}var n;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:f,parent:d}={}){this._names={},this._prefixes=f,this._parent=d}toName(f){return f instanceof t.Name?f:this.name(f)}name(f){return new t.Name(this._newName(f))}_newName(f){const d=this._names[f]||this._nameGroup(f);return`${f}${d.index++}`}_nameGroup(f){var d,y;if(((y=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||y===void 0?void 0:y.has(f))||this._prefixes&&!this._prefixes.has(f))throw new Error(`CodeGen: prefix "${f}" is not allowed in this scope`);return this._names[f]={prefix:f,index:0}}}e.Scope=s;class i extends t.Name{constructor(f,d){super(d);this.prefix=f}setValue(f,{property:d,itemIndex:y}){this.value=f,this.scopePath=(0,t._)`.${new t.Name(d)}[${y}]`}}e.ValueScopeName=i;const a=(0,t._)`\n`;class l extends s{constructor(f){super(f);this._values={},this._scope=f.scope,this.opts=ue(D({},f),{_n:f.lines?a:t.nil})}get(){return this._scope}name(f){return new i(f,this._newName(f))}value(f,d){var y;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const S=this.toName(f),{prefix:A}=S,_=(y=d.key)!==null&&y!==void 0?y:d.ref;let $=this._values[A];if($){const E=$.get(_);if(E)return E}else $=this._values[A]=new Map;$.set(_,S);const g=this._scope[A]||(this._scope[A]=[]),h=g.length;return g[h]=d.ref,S.setValue(d,{property:A,itemIndex:h}),S}getValue(f,d){const y=this._values[f];if(!!y)return y.get(d)}scopeRefs(f,d=this._values){return this._reduceValues(d,y=>{if(y.scopePath===void 0)throw new Error(`CodeGen: name "${y}" has no value`);return(0,t._)`${f}${y.scopePath}`})}scopeCode(f=this._values,d,y){return this._reduceValues(f,S=>{if(S.value===void 0)throw new Error(`CodeGen: name "${S}" has no value`);return S.value.code},d,y)}_reduceValues(f,d,y={},S){let A=t.nil;for(const _ in f){const $=f[_];if(!$)continue;const g=y[_]=y[_]||new Map;$.forEach(h=>{if(g.has(h))return;g.set(h,n.Started);let E=d(h);if(E){const T=this.opts.es5?e.varKinds.var:e.varKinds.const;A=(0,t._)`${A}${T} ${h} = ${E};${this.opts._n}`}else if(E=S==null?void 0:S(h))A=(0,t._)`${A}${E}${this.opts._n}`;else throw new r(h);g.set(h,n.Completed)})}return A}}e.ValueScope=l})(Hn);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Sr,r=Hn;var n=Sr;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=Hn;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames(o,v){return this}}class a extends i{constructor(o,v,C){super();this.varKind=o,this.name=v,this.rhs=C}render({es5:o,_n:v}){const C=o?r.varKinds.var:this.varKind,k=this.rhs===void 0?"":` = ${this.rhs}`;return`${C} ${this.name}${k};`+v}optimizeNames(o,v){if(!!o[this.name.str])return this.rhs&&(this.rhs=pe(this.rhs,o,v)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class l extends i{constructor(o,v,C){super();this.lhs=o,this.rhs=v,this.sideEffects=C}render({_n:o}){return`${this.lhs} = ${this.rhs};`+o}optimizeNames(o,v){if(!(this.lhs instanceof t.Name&&!o[this.lhs.str]&&!this.sideEffects))return this.rhs=pe(this.rhs,o,v),this}get names(){const o=this.lhs instanceof t.Name?{}:D({},this.lhs.names);return Oe(o,this.rhs)}}class u extends l{constructor(o,v,C,k){super(o,C,k);this.op=v}render({_n:o}){return`${this.lhs} ${this.op}= ${this.rhs};`+o}}class f extends i{constructor(o){super();this.label=o,this.names={}}render({_n:o}){return`${this.label}:`+o}}class d extends i{constructor(o){super();this.label=o,this.names={}}render({_n:o}){return`break${this.label?` ${this.label}`:""};`+o}}class y extends i{constructor(o){super();this.error=o}render({_n:o}){return`throw ${this.error};`+o}get names(){return this.error.names}}class S extends i{constructor(o){super();this.code=o}render({_n:o}){return`${this.code};`+o}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(o,v){return this.code=pe(this.code,o,v),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class A extends i{constructor(o=[]){super();this.nodes=o}render(o){return this.nodes.reduce((v,C)=>v+C.render(o),"")}optimizeNodes(){const{nodes:o}=this;let v=o.length;for(;v--;){const C=o[v].optimizeNodes();Array.isArray(C)?o.splice(v,1,...C):C?o[v]=C:o.splice(v,1)}return o.length>0?this:void 0}optimizeNames(o,v){const{nodes:C}=this;let k=C.length;for(;k--;){const L=C[k];L.optimizeNames(o,v)||(dt(o,L.names),C.splice(k,1))}return C.length>0?this:void 0}get names(){return this.nodes.reduce((o,v)=>Z(o,v.names),{})}}class _ extends A{render(o){return"{"+o._n+super.render(o)+"}"+o._n}}class $ extends A{}class g extends _{}g.kind="else";class h extends _{constructor(o,v){super(v);this.condition=o}render(o){let v=`if(${this.condition})`+super.render(o);return this.else&&(v+="else "+this.else.render(o)),v}optimizeNodes(){super.optimizeNodes();const o=this.condition;if(o===!0)return this.nodes;let v=this.else;if(v){const C=v.optimizeNodes();v=this.else=Array.isArray(C)?new g(C):C}if(v)return o===!1?v instanceof h?v:v.nodes:this.nodes.length?this:new h(ht(o),v instanceof h?[v]:v.nodes);if(!(o===!1||!this.nodes.length))return this}optimizeNames(o,v){var C;if(this.else=(C=this.else)===null||C===void 0?void 0:C.optimizeNames(o,v),!!(super.optimizeNames(o,v)||this.else))return this.condition=pe(this.condition,o,v),this}get names(){const o=super.names;return Oe(o,this.condition),this.else&&Z(o,this.else.names),o}}h.kind="if";class E extends _{}E.kind="for";class T extends E{constructor(o){super();this.iteration=o}render(o){return`for(${this.iteration})`+super.render(o)}optimizeNames(o,v){if(!!super.optimizeNames(o,v))return this.iteration=pe(this.iteration,o,v),this}get names(){return Z(super.names,this.iteration.names)}}class M extends E{constructor(o,v,C,k){super();this.varKind=o,this.name=v,this.from=C,this.to=k}render(o){const v=o.es5?r.varKinds.var:this.varKind,{name:C,from:k,to:L}=this;return`for(${v} ${C}=${k}; ${C}<${L}; ${C}++)`+super.render(o)}get names(){const o=Oe(super.names,this.from);return Oe(o,this.to)}}class V extends E{constructor(o,v,C,k){super();this.loop=o,this.varKind=v,this.name=C,this.iterable=k}render(o){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(o)}optimizeNames(o,v){if(!!super.optimizeNames(o,v))return this.iterable=pe(this.iterable,o,v),this}get names(){return Z(super.names,this.iterable.names)}}class b extends _{constructor(o,v,C){super();this.name=o,this.args=v,this.async=C}render(o){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(o)}}b.kind="func";class F extends A{render(o){return"return "+super.render(o)}}F.kind="return";class I extends _{render(o){let v="try"+super.render(o);return this.catch&&(v+=this.catch.render(o)),this.finally&&(v+=this.finally.render(o)),v}optimizeNodes(){var o,v;return super.optimizeNodes(),(o=this.catch)===null||o===void 0||o.optimizeNodes(),(v=this.finally)===null||v===void 0||v.optimizeNodes(),this}optimizeNames(o,v){var C,k;return super.optimizeNames(o,v),(C=this.catch)===null||C===void 0||C.optimizeNames(o,v),(k=this.finally)===null||k===void 0||k.optimizeNames(o,v),this}get names(){const o=super.names;return this.catch&&Z(o,this.catch.names),this.finally&&Z(o,this.finally.names),o}}class K extends _{constructor(o){super();this.error=o}render(o){return`catch(${this.error})`+super.render(o)}}K.kind="catch";class X extends _{render(o){return"finally"+super.render(o)}}X.kind="finally";class le{constructor(o,v={}){this._values={},this._blockStarts=[],this._constants={},this.opts=ue(D({},v),{_n:v.lines?`
`:""}),this._extScope=o,this._scope=new r.Scope({parent:o}),this._nodes=[new $]}toString(){return this._root.render(this.opts)}name(o){return this._scope.name(o)}scopeName(o){return this._extScope.name(o)}scopeValue(o,v){const C=this._extScope.value(o,v);return(this._values[C.prefix]||(this._values[C.prefix]=new Set)).add(C),C}getScopeValue(o,v){return this._extScope.getValue(o,v)}scopeRefs(o){return this._extScope.scopeRefs(o,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(o,v,C,k){const L=this._scope.toName(v);return C!==void 0&&k&&(this._constants[L.str]=C),this._leafNode(new a(o,L,C)),L}const(o,v,C){return this._def(r.varKinds.const,o,v,C)}let(o,v,C){return this._def(r.varKinds.let,o,v,C)}var(o,v,C){return this._def(r.varKinds.var,o,v,C)}assign(o,v,C){return this._leafNode(new l(o,v,C))}add(o,v){return this._leafNode(new u(o,e.operators.ADD,v))}code(o){return typeof o=="function"?o():o!==t.nil&&this._leafNode(new S(o)),this}object(...o){const v=["{"];for(const[C,k]of o)v.length>1&&v.push(","),v.push(C),(C!==k||this.opts.es5)&&(v.push(":"),(0,t.addCodeArg)(v,k));return v.push("}"),new t._Code(v)}if(o,v,C){if(this._blockNode(new h(o)),v&&C)this.code(v).else().code(C).endIf();else if(v)this.code(v).endIf();else if(C)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(o){return this._elseNode(new h(o))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(h,g)}_for(o,v){return this._blockNode(o),v&&this.code(v).endFor(),this}for(o,v){return this._for(new T(o),v)}forRange(o,v,C,k,L=this.opts.es5?r.varKinds.var:r.varKinds.let){const W=this._scope.toName(o);return this._for(new M(L,W,v,C),()=>k(W))}forOf(o,v,C,k=r.varKinds.const){const L=this._scope.toName(o);if(this.opts.es5){const W=v instanceof t.Name?v:this.var("_arr",v);return this.forRange("_i",0,(0,t._)`${W}.length`,Q=>{this.var(L,(0,t._)`${W}[${Q}]`),C(L)})}return this._for(new V("of",k,L,v),()=>C(L))}forIn(o,v,C,k=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(o,(0,t._)`Object.keys(${v})`,C);const L=this._scope.toName(o);return this._for(new V("in",k,L,v),()=>C(L))}endFor(){return this._endBlockNode(E)}label(o){return this._leafNode(new f(o))}break(o){return this._leafNode(new d(o))}return(o){const v=new F;if(this._blockNode(v),this.code(o),v.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(F)}try(o,v,C){if(!v&&!C)throw new Error('CodeGen: "try" without "catch" and "finally"');const k=new I;if(this._blockNode(k),this.code(o),v){const L=this.name("e");this._currNode=k.catch=new K(L),v(L)}return C&&(this._currNode=k.finally=new X,this.code(C)),this._endBlockNode(K,X)}throw(o){return this._leafNode(new y(o))}block(o,v){return this._blockStarts.push(this._nodes.length),o&&this.code(o).endBlock(v),this}endBlock(o){const v=this._blockStarts.pop();if(v===void 0)throw new Error("CodeGen: not in self-balancing block");const C=this._nodes.length-v;if(C<0||o!==void 0&&C!==o)throw new Error(`CodeGen: wrong number of nodes: ${C} vs ${o} expected`);return this._nodes.length=v,this}func(o,v=t.nil,C,k){return this._blockNode(new b(o,v,C)),k&&this.code(k).endFunc(),this}endFunc(){return this._endBlockNode(b)}optimize(o=1){for(;o-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(o){return this._currNode.nodes.push(o),this}_blockNode(o){this._currNode.nodes.push(o),this._nodes.push(o)}_endBlockNode(o,v){const C=this._currNode;if(C instanceof o||v&&C instanceof v)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${v?`${o.kind}/${v.kind}`:o.kind}"`)}_elseNode(o){const v=this._currNode;if(!(v instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=v.else=o,this}get _root(){return this._nodes[0]}get _currNode(){const o=this._nodes;return o[o.length-1]}set _currNode(o){const v=this._nodes;v[v.length-1]=o}}e.CodeGen=le;function Z(w,o){for(const v in o)w[v]=(w[v]||0)+(o[v]||0);return w}function Oe(w,o){return o instanceof t._CodeOrName?Z(w,o.names):w}function pe(w,o,v){if(w instanceof t.Name)return C(w);if(!k(w))return w;return new t._Code(w._items.reduce((L,W)=>(W instanceof t.Name&&(W=C(W)),W instanceof t._Code?L.push(...W._items):L.push(W),L),[]));function C(L){const W=v[L.str];return W===void 0||o[L.str]!==1?L:(delete o[L.str],W)}function k(L){return L instanceof t._Code&&L._items.some(W=>W instanceof t.Name&&o[W.str]===1&&v[W.str]!==void 0)}}function dt(w,o){for(const v in o)w[v]=(w[v]||0)-(o[v]||0)}function ht(w){return typeof w=="boolean"||typeof w=="number"||w===null?!w:(0,t._)`!${N(w)}`}e.not=ht;const Ft=j(e.operators.AND);function Yt(...w){return w.reduce(Ft)}e.and=Yt;const At=j(e.operators.OR);function R(...w){return w.reduce(At)}e.or=R;function j(w){return(o,v)=>o===t.nil?v:v===t.nil?o:(0,t._)`${N(o)} ${w} ${N(v)}`}function N(w){return w instanceof t.Name?w:(0,t._)`(${w})`}})(J);var ee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=J,r=Sr;function n(b){const F={};for(const I of b)F[I]=!0;return F}e.toHash=n;function s(b,F){return typeof F=="boolean"?F:Object.keys(F).length===0?!0:(i(b,F),!a(F,b.self.RULES.all))}e.alwaysValidSchema=s;function i(b,F=b.schema){const{opts:I,self:K}=b;if(!I.strictSchema||typeof F=="boolean")return;const X=K.RULES.keywords;for(const le in F)X[le]||V(b,`unknown keyword: "${le}"`)}e.checkUnknownRules=i;function a(b,F){if(typeof b=="boolean")return!b;for(const I in b)if(F[I])return!0;return!1}e.schemaHasRules=a;function l(b,F){if(typeof b=="boolean")return!b;for(const I in b)if(I!=="$ref"&&F.all[I])return!0;return!1}e.schemaHasRulesButRef=l;function u({topSchemaRef:b,schemaPath:F},I,K,X){if(!X){if(typeof I=="number"||typeof I=="boolean")return I;if(typeof I=="string")return(0,t._)`${I}`}return(0,t._)`${b}${F}${(0,t.getProperty)(K)}`}e.schemaRefOrVal=u;function f(b){return S(decodeURIComponent(b))}e.unescapeFragment=f;function d(b){return encodeURIComponent(y(b))}e.escapeFragment=d;function y(b){return typeof b=="number"?`${b}`:b.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=y;function S(b){return b.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=S;function A(b,F){if(Array.isArray(b))for(const I of b)F(I);else F(b)}e.eachItem=A;function _({mergeNames:b,mergeToName:F,mergeValues:I,resultToName:K}){return(X,le,Z,Oe)=>{const pe=Z===void 0?le:Z instanceof t.Name?(le instanceof t.Name?b(X,le,Z):F(X,le,Z),Z):le instanceof t.Name?(F(X,Z,le),le):I(le,Z);return Oe===t.Name&&!(pe instanceof t.Name)?K(X,pe):pe}}e.mergeEvaluated={props:_({mergeNames:(b,F,I)=>b.if((0,t._)`${I} !== true && ${F} !== undefined`,()=>{b.if((0,t._)`${F} === true`,()=>b.assign(I,!0),()=>b.assign(I,(0,t._)`${I} || {}`).code((0,t._)`Object.assign(${I}, ${F})`))}),mergeToName:(b,F,I)=>b.if((0,t._)`${I} !== true`,()=>{F===!0?b.assign(I,!0):(b.assign(I,(0,t._)`${I} || {}`),g(b,I,F))}),mergeValues:(b,F)=>b===!0?!0:D(D({},b),F),resultToName:$}),items:_({mergeNames:(b,F,I)=>b.if((0,t._)`${I} !== true && ${F} !== undefined`,()=>b.assign(I,(0,t._)`${F} === true ? true : ${I} > ${F} ? ${I} : ${F}`)),mergeToName:(b,F,I)=>b.if((0,t._)`${I} !== true`,()=>b.assign(I,F===!0?!0:(0,t._)`${I} > ${F} ? ${I} : ${F}`)),mergeValues:(b,F)=>b===!0?!0:Math.max(b,F),resultToName:(b,F)=>b.var("items",F)})};function $(b,F){if(F===!0)return b.var("props",!0);const I=b.var("props",(0,t._)`{}`);return F!==void 0&&g(b,I,F),I}e.evaluatedPropsToName=$;function g(b,F,I){Object.keys(I).forEach(K=>b.assign((0,t._)`${F}${(0,t.getProperty)(K)}`,!0))}e.setEvaluated=g;const h={};function E(b,F){return b.scopeValue("func",{ref:F,code:h[F.code]||(h[F.code]=new r._Code(F.code))})}e.useFunc=E;var T;(function(b){b[b.Num=0]="Num",b[b.Str=1]="Str"})(T=e.Type||(e.Type={}));function M(b,F,I){if(b instanceof t.Name){const K=F===T.Num;return I?K?(0,t._)`"[" + ${b} + "]"`:(0,t._)`"['" + ${b} + "']"`:K?(0,t._)`"/" + ${b}`:(0,t._)`"/" + ${b}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return I?(0,t.getProperty)(b).toString():"/"+y(b)}e.getErrorPath=M;function V(b,F,I=b.opts.strictSchema){if(!!I){if(F=`strict mode: ${F}`,I===!0)throw new Error(F);b.self.logger.warn(F)}}e.checkStrictMode=V})(ee);var We={};Object.defineProperty(We,"__esModule",{value:!0});const ge=J,_v={data:new ge.Name("data"),valCxt:new ge.Name("valCxt"),instancePath:new ge.Name("instancePath"),parentData:new ge.Name("parentData"),parentDataProperty:new ge.Name("parentDataProperty"),rootData:new ge.Name("rootData"),dynamicAnchors:new ge.Name("dynamicAnchors"),vErrors:new ge.Name("vErrors"),errors:new ge.Name("errors"),this:new ge.Name("this"),self:new ge.Name("self"),scope:new ge.Name("scope"),json:new ge.Name("json"),jsonPos:new ge.Name("jsonPos"),jsonLen:new ge.Name("jsonLen"),jsonPart:new ge.Name("jsonPart")};We.default=_v;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=J,r=ee,n=We;e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:h})=>h?(0,t.str)`"${g}" keyword must be ${h} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function s(g,h=e.keywordError,E,T){const{it:M}=g,{gen:V,compositeRule:b,allErrors:F}=M,I=y(g,h,E);(T!=null?T:b||F)?u(V,I):f(M,(0,t._)`[${I}]`)}e.reportError=s;function i(g,h=e.keywordError,E){const{it:T}=g,{gen:M,compositeRule:V,allErrors:b}=T,F=y(g,h,E);u(M,F),V||b||f(T,n.default.vErrors)}e.reportExtraError=i;function a(g,h){g.assign(n.default.errors,h),g.if((0,t._)`${n.default.vErrors} !== null`,()=>g.if(h,()=>g.assign((0,t._)`${n.default.vErrors}.length`,h),()=>g.assign(n.default.vErrors,null)))}e.resetErrorsCount=a;function l({gen:g,keyword:h,schemaValue:E,data:T,errsCount:M,it:V}){if(M===void 0)throw new Error("ajv implementation error");const b=g.name("err");g.forRange("i",M,n.default.errors,F=>{g.const(b,(0,t._)`${n.default.vErrors}[${F}]`),g.if((0,t._)`${b}.instancePath === undefined`,()=>g.assign((0,t._)`${b}.instancePath`,(0,t.strConcat)(n.default.instancePath,V.errorPath))),g.assign((0,t._)`${b}.schemaPath`,(0,t.str)`${V.errSchemaPath}/${h}`),V.opts.verbose&&(g.assign((0,t._)`${b}.schema`,E),g.assign((0,t._)`${b}.data`,T))})}e.extendErrors=l;function u(g,h){const E=g.const("err",h);g.if((0,t._)`${n.default.vErrors} === null`,()=>g.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),g.code((0,t._)`${n.default.errors}++`)}function f(g,h){const{gen:E,validateName:T,schemaEnv:M}=g;M.$async?E.throw((0,t._)`new ${g.ValidationError}(${h})`):(E.assign((0,t._)`${T}.errors`,h),E.return(!1))}const d={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function y(g,h,E){const{createErrors:T}=g.it;return T===!1?(0,t._)`{}`:S(g,h,E)}function S(g,h,E={}){const{gen:T,it:M}=g,V=[A(M,E),_(g,E)];return $(g,h,V),T.object(...V)}function A({errorPath:g},{instancePath:h}){const E=h?(0,t.str)`${g}${(0,r.getErrorPath)(h,r.Type.Str)}`:g;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function _({keyword:g,it:{errSchemaPath:h}},{schemaPath:E,parentSchema:T}){let M=T?h:(0,t.str)`${h}/${g}`;return E&&(M=(0,t.str)`${M}${(0,r.getErrorPath)(E,r.Type.Str)}`),[d.schemaPath,M]}function $(g,{params:h,message:E},T){const{keyword:M,data:V,schemaValue:b,it:F}=g,{opts:I,propertyName:K,topSchemaRef:X,schemaPath:le}=F;T.push([d.keyword,M],[d.params,typeof h=="function"?h(g):h||(0,t._)`{}`]),I.messages&&T.push([d.message,typeof E=="function"?E(g):E]),I.verbose&&T.push([d.schema,b],[d.parentSchema,(0,t._)`${X}${le}`],[n.default.data,V]),K&&T.push([d.propertyName,K])}})(Cr);Object.defineProperty(Bt,"__esModule",{value:!0});Bt.boolOrEmptySchema=Bt.topBoolOrEmptySchema=void 0;const $v=Cr,jv=J,Ev=We,bv={message:"boolean schema is false"};function Sv(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Da(e,!1):typeof r=="object"&&r.$async===!0?t.return(Ev.default.data):(t.assign((0,jv._)`${n}.errors`,null),t.return(!0))}Bt.topBoolOrEmptySchema=Sv;function wv(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Da(e)):r.var(t,!0)}Bt.boolOrEmptySchema=wv;function Da(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,$v.reportError)(s,bv,void 0,t)}var Mr={},St={};Object.defineProperty(St,"__esModule",{value:!0});St.getRules=St.isJSONType=void 0;const Pv=["string","number","integer","boolean","null","object","array"],Ov=new Set(Pv);function Tv(e){return typeof e=="string"&&Ov.has(e)}St.isJSONType=Tv;function Fv(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:ue(D({},e),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}St.getRules=Fv;var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.shouldUseRule=Ze.shouldUseGroup=Ze.schemaHasRulesForType=void 0;function Av({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&ka(e,n)}Ze.schemaHasRulesForType=Av;function ka(e,t){return t.rules.some(r=>La(e,r))}Ze.shouldUseGroup=ka;function La(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Ze.shouldUseRule=La;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=St,r=Ze,n=Cr,s=J,i=ee;var a;(function(T){T[T.Correct=0]="Correct",T[T.Wrong=1]="Wrong"})(a=e.DataType||(e.DataType={}));function l(T){const M=u(T.type);if(M.includes("null")){if(T.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!M.length&&T.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');T.nullable===!0&&M.push("null")}return M}e.getSchemaTypes=l;function u(T){const M=Array.isArray(T)?T:T?[T]:[];if(M.every(t.isJSONType))return M;throw new Error("type must be JSONType or JSONType[]: "+M.join(","))}e.getJSONTypes=u;function f(T,M){const{gen:V,data:b,opts:F}=T,I=y(M,F.coerceTypes),K=M.length>0&&!(I.length===0&&M.length===1&&(0,r.schemaHasRulesForType)(T,M[0]));if(K){const X=$(M,b,F.strictNumbers,a.Wrong);V.if(X,()=>{I.length?S(T,M,I):h(T)})}return K}e.coerceAndCheckDataType=f;const d=new Set(["string","number","integer","boolean","null"]);function y(T,M){return M?T.filter(V=>d.has(V)||M==="array"&&V==="array"):[]}function S(T,M,V){const{gen:b,data:F,opts:I}=T,K=b.let("dataType",(0,s._)`typeof ${F}`),X=b.let("coerced",(0,s._)`undefined`);I.coerceTypes==="array"&&b.if((0,s._)`${K} == 'object' && Array.isArray(${F}) && ${F}.length == 1`,()=>b.assign(F,(0,s._)`${F}[0]`).assign(K,(0,s._)`typeof ${F}`).if($(M,F,I.strictNumbers),()=>b.assign(X,F))),b.if((0,s._)`${X} !== undefined`);for(const Z of V)(d.has(Z)||Z==="array"&&I.coerceTypes==="array")&&le(Z);b.else(),h(T),b.endIf(),b.if((0,s._)`${X} !== undefined`,()=>{b.assign(F,X),A(T,X)});function le(Z){switch(Z){case"string":b.elseIf((0,s._)`${K} == "number" || ${K} == "boolean"`).assign(X,(0,s._)`"" + ${F}`).elseIf((0,s._)`${F} === null`).assign(X,(0,s._)`""`);return;case"number":b.elseIf((0,s._)`${K} == "boolean" || ${F} === null
              || (${K} == "string" && ${F} && ${F} == +${F})`).assign(X,(0,s._)`+${F}`);return;case"integer":b.elseIf((0,s._)`${K} === "boolean" || ${F} === null
              || (${K} === "string" && ${F} && ${F} == +${F} && !(${F} % 1))`).assign(X,(0,s._)`+${F}`);return;case"boolean":b.elseIf((0,s._)`${F} === "false" || ${F} === 0 || ${F} === null`).assign(X,!1).elseIf((0,s._)`${F} === "true" || ${F} === 1`).assign(X,!0);return;case"null":b.elseIf((0,s._)`${F} === "" || ${F} === 0 || ${F} === false`),b.assign(X,null);return;case"array":b.elseIf((0,s._)`${K} === "string" || ${K} === "number"
              || ${K} === "boolean" || ${F} === null`).assign(X,(0,s._)`[${F}]`)}}}function A({gen:T,parentData:M,parentDataProperty:V},b){T.if((0,s._)`${M} !== undefined`,()=>T.assign((0,s._)`${M}[${V}]`,b))}function _(T,M,V,b=a.Correct){const F=b===a.Correct?s.operators.EQ:s.operators.NEQ;let I;switch(T){case"null":return(0,s._)`${M} ${F} null`;case"array":I=(0,s._)`Array.isArray(${M})`;break;case"object":I=(0,s._)`${M} && typeof ${M} == "object" && !Array.isArray(${M})`;break;case"integer":I=K((0,s._)`!(${M} % 1) && !isNaN(${M})`);break;case"number":I=K();break;default:return(0,s._)`typeof ${M} ${F} ${T}`}return b===a.Correct?I:(0,s.not)(I);function K(X=s.nil){return(0,s.and)((0,s._)`typeof ${M} == "number"`,X,V?(0,s._)`isFinite(${M})`:s.nil)}}e.checkDataType=_;function $(T,M,V,b){if(T.length===1)return _(T[0],M,V,b);let F;const I=(0,i.toHash)(T);if(I.array&&I.object){const K=(0,s._)`typeof ${M} != "object"`;F=I.null?K:(0,s._)`!${M} || ${K}`,delete I.null,delete I.array,delete I.object}else F=s.nil;I.number&&delete I.integer;for(const K in I)F=(0,s.and)(F,_(K,M,V,b));return F}e.checkDataTypes=$;const g={message:({schema:T})=>`must be ${T}`,params:({schema:T,schemaValue:M})=>typeof T=="string"?(0,s._)`{type: ${T}}`:(0,s._)`{type: ${M}}`};function h(T){const M=E(T);(0,n.reportError)(M,g)}e.reportTypeError=h;function E(T){const{gen:M,data:V,schema:b}=T,F=(0,i.schemaRefOrVal)(T,b,"type");return{gen:M,keyword:"type",data:V,schema:b.type,schemaCode:F,schemaValue:F,parentSchema:b,params:{},it:T}}})(Mr);var vn={};Object.defineProperty(vn,"__esModule",{value:!0});vn.assignDefaults=void 0;const Lt=J,Cv=ee;function Mv(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)Li(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,i)=>Li(e,i,s.default))}vn.assignDefaults=Mv;function Li(e,t,r){const{gen:n,compositeRule:s,data:i,opts:a}=e;if(r===void 0)return;const l=(0,Lt._)`${i}${(0,Lt.getProperty)(t)}`;if(s){(0,Cv.checkStrictMode)(e,`default is ignored for: ${l}`);return}let u=(0,Lt._)`${l} === undefined`;a.useDefaults==="empty"&&(u=(0,Lt._)`${u} || ${l} === null || ${l} === ""`),n.if(u,(0,Lt._)`${l} = ${(0,Lt.stringify)(r)}`)}var qe={},G={};Object.defineProperty(G,"__esModule",{value:!0});G.validateUnion=G.validateArray=G.usePattern=G.callValidateCode=G.schemaProperties=G.allSchemaProperties=G.noPropertyInData=G.propertyInData=G.isOwnProperty=G.hasPropFunc=G.reportMissingProp=G.checkMissingProp=G.checkReportMissingProp=void 0;const ie=J,ps=ee,st=We,Nv=ee;function Vv(e,t){const{gen:r,data:n,it:s}=e;r.if(ms(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,ie._)`${t}`},!0),e.error()})}G.checkReportMissingProp=Vv;function Iv({gen:e,data:t,it:{opts:r}},n,s){return(0,ie.or)(...n.map(i=>(0,ie.and)(ms(e,t,i,r.ownProperties),(0,ie._)`${s} = ${i}`)))}G.checkMissingProp=Iv;function Rv(e,t){e.setParams({missingProperty:t},!0),e.error()}G.reportMissingProp=Rv;function Ha(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ie._)`Object.prototype.hasOwnProperty`})}G.hasPropFunc=Ha;function vs(e,t,r){return(0,ie._)`${Ha(e)}.call(${t}, ${r})`}G.isOwnProperty=vs;function Dv(e,t,r,n){const s=(0,ie._)`${t}${(0,ie.getProperty)(r)} !== undefined`;return n?(0,ie._)`${s} && ${vs(e,t,r)}`:s}G.propertyInData=Dv;function ms(e,t,r,n){const s=(0,ie._)`${t}${(0,ie.getProperty)(r)} === undefined`;return n?(0,ie.or)(s,(0,ie.not)(vs(e,t,r))):s}G.noPropertyInData=ms;function Ua(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}G.allSchemaProperties=Ua;function kv(e,t){return Ua(t).filter(r=>!(0,ps.alwaysValidSchema)(e,t[r]))}G.schemaProperties=kv;function Lv({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:i},it:a},l,u,f){const d=f?(0,ie._)`${e}, ${t}, ${n}${s}`:t,y=[[st.default.instancePath,(0,ie.strConcat)(st.default.instancePath,i)],[st.default.parentData,a.parentData],[st.default.parentDataProperty,a.parentDataProperty],[st.default.rootData,st.default.rootData]];a.opts.dynamicRef&&y.push([st.default.dynamicAnchors,st.default.dynamicAnchors]);const S=(0,ie._)`${d}, ${r.object(...y)}`;return u!==ie.nil?(0,ie._)`${l}.call(${u}, ${S})`:(0,ie._)`${l}(${S})`}G.callValidateCode=Lv;const Hv=(0,ie._)`new RegExp`;function Uv({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,i=s(r,n);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,ie._)`${s.code==="new RegExp"?Hv:(0,Nv.useFunc)(e,s)}(${r}, ${n})`})}G.usePattern=Uv;function qv(e){const{gen:t,data:r,keyword:n,it:s}=e,i=t.name("valid");if(s.allErrors){const l=t.let("valid",!0);return a(()=>t.assign(l,!1)),l}return t.var(i,!0),a(()=>t.break()),i;function a(l){const u=t.const("len",(0,ie._)`${r}.length`);t.forRange("i",0,u,f=>{e.subschema({keyword:n,dataProp:f,dataPropType:ps.Type.Num},i),t.if((0,ie.not)(i),l)})}}G.validateArray=qv;function zv(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(u=>(0,ps.alwaysValidSchema)(s,u))&&!s.opts.unevaluated)return;const a=t.let("valid",!1),l=t.name("_valid");t.block(()=>r.forEach((u,f)=>{const d=e.subschema({keyword:n,schemaProp:f,compositeRule:!0},l);t.assign(a,(0,ie._)`${a} || ${l}`),e.mergeValidEvaluated(d,l)||t.if((0,ie.not)(a))})),e.result(a,()=>e.reset(),()=>e.error(!0))}G.validateUnion=zv;Object.defineProperty(qe,"__esModule",{value:!0});qe.validateKeywordUsage=qe.validSchemaType=qe.funcKeywordCode=qe.macroKeywordCode=void 0;const _e=J,$t=We,Kv=G,Bv=Cr;function Gv(e,t){const{gen:r,keyword:n,schema:s,parentSchema:i,it:a}=e,l=t.macro.call(a.self,s,i,a),u=qa(r,n,l);a.opts.validateSchema!==!1&&a.self.validateSchema(l,!0);const f=r.name("valid");e.subschema({schema:l,schemaPath:_e.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:u,compositeRule:!0},f),e.pass(f,()=>e.error(!0))}qe.macroKeywordCode=Gv;function Jv(e,t){var r;const{gen:n,keyword:s,schema:i,parentSchema:a,$data:l,it:u}=e;Wv(u,t);const f=!l&&t.compile?t.compile.call(u.self,i,a,u):t.validate,d=qa(n,s,f),y=n.let("valid");e.block$data(y,S),e.ok((r=t.valid)!==null&&r!==void 0?r:y);function S(){if(t.errors===!1)$(),t.modifying&&Hi(e),g(()=>e.error());else{const h=t.async?A():_();t.modifying&&Hi(e),g(()=>Xv(e,h))}}function A(){const h=n.let("ruleErrs",null);return n.try(()=>$((0,_e._)`await `),E=>n.assign(y,!1).if((0,_e._)`${E} instanceof ${u.ValidationError}`,()=>n.assign(h,(0,_e._)`${E}.errors`),()=>n.throw(E))),h}function _(){const h=(0,_e._)`${d}.errors`;return n.assign(h,null),$(_e.nil),h}function $(h=t.async?(0,_e._)`await `:_e.nil){const E=u.opts.passContext?$t.default.this:$t.default.self,T=!("compile"in t&&!l||t.schema===!1);n.assign(y,(0,_e._)`${h}${(0,Kv.callValidateCode)(e,d,E,T)}`,t.modifying)}function g(h){var E;n.if((0,_e.not)((E=t.valid)!==null&&E!==void 0?E:y),h)}}qe.funcKeywordCode=Jv;function Hi(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,_e._)`${n.parentData}[${n.parentDataProperty}]`))}function Xv(e,t){const{gen:r}=e;r.if((0,_e._)`Array.isArray(${t})`,()=>{r.assign($t.default.vErrors,(0,_e._)`${$t.default.vErrors} === null ? ${t} : ${$t.default.vErrors}.concat(${t})`).assign($t.default.errors,(0,_e._)`${$t.default.vErrors}.length`),(0,Bv.extendErrors)(e)},()=>e.error())}function Wv({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function qa(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,_e.stringify)(r)})}function Yv(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e=="undefined")}qe.validSchemaType=Yv;function Qv({schema:e,opts:t,self:r,errSchemaPath:n},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw new Error("ajv implementation error");const a=s.dependencies;if(a!=null&&a.some(l=>!Object.prototype.hasOwnProperty.call(e,l)))throw new Error(`parent schema must have dependencies of ${i}: ${a.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[i])){const u=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(u);else throw new Error(u)}}qe.validateKeywordUsage=Qv;var lt={};Object.defineProperty(lt,"__esModule",{value:!0});lt.extendSubschemaMode=lt.extendSubschemaData=lt.getSubschema=void 0;const Ue=J,za=ee;function Zv(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:i,topSchemaRef:a}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const l=e.schema[t];return r===void 0?{schema:l,schemaPath:(0,Ue._)`${e.schemaPath}${(0,Ue.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:l[r],schemaPath:(0,Ue._)`${e.schemaPath}${(0,Ue.getProperty)(t)}${(0,Ue.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,za.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||i===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:a,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}lt.getSubschema=Zv;function xv(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:i,propertyName:a}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:l}=t;if(r!==void 0){const{errorPath:f,dataPathArr:d,opts:y}=t,S=l.let("data",(0,Ue._)`${t.data}${(0,Ue.getProperty)(r)}`,!0);u(S),e.errorPath=(0,Ue.str)`${f}${(0,za.getErrorPath)(r,n,y.jsPropertySyntax)}`,e.parentDataProperty=(0,Ue._)`${r}`,e.dataPathArr=[...d,e.parentDataProperty]}if(s!==void 0){const f=s instanceof Ue.Name?s:l.let("data",s,!0);u(f),a!==void 0&&(e.propertyName=a)}i&&(e.dataTypes=i);function u(f){e.data=f,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,f]}}lt.extendSubschemaData=xv;function em(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:i}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}lt.extendSubschemaMode=em;var ye={},Ka=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var a=i[s];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r},Ba={exports:{}},ot=Ba.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Xr(t,n,s,e,"",e)};ot.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};ot.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};ot.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};ot.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Xr(e,t,r,n,s,i,a,l,u,f){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,i,a,l,u,f);for(var d in n){var y=n[d];if(Array.isArray(y)){if(d in ot.arrayKeywords)for(var S=0;S<y.length;S++)Xr(e,t,r,y[S],s+"/"+d+"/"+S,i,s,d,n,S)}else if(d in ot.propsKeywords){if(y&&typeof y=="object")for(var A in y)Xr(e,t,r,y[A],s+"/"+d+"/"+tm(A),i,s,d,n,A)}else(d in ot.keywords||e.allKeys&&!(d in ot.skipKeywords))&&Xr(e,t,r,y,s+"/"+d,i,s,d,n)}r(n,s,i,a,l,u,f)}}function tm(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(ye,"__esModule",{value:!0});ye.getSchemaRefs=ye.resolveUrl=ye.normalizeId=ye._getFullPath=ye.getFullPath=ye.inlineRef=void 0;const rm=ee,nm=Ka,sm=Ba.exports,im=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function am(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Un(e):t?Ga(e)<=t:!1}ye.inlineRef=am;const om=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Un(e){for(const t in e){if(om.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Un)||typeof r=="object"&&Un(r))return!0}return!1}function Ga(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!im.has(r)&&(typeof e[r]=="object"&&(0,rm.eachItem)(e[r],n=>t+=Ga(n)),t===1/0))return 1/0}return t}function Ja(e,t="",r){r!==!1&&(t=qt(t));const n=e.parse(t);return Xa(e,n)}ye.getFullPath=Ja;function Xa(e,t){return e.serialize(t).split("#")[0]+"#"}ye._getFullPath=Xa;const lm=/#\/?$/;function qt(e){return e?e.replace(lm,""):""}ye.normalizeId=qt;function cm(e,t,r){return r=qt(r),e.resolve(t,r)}ye.resolveUrl=cm;const um=/^[a-z_][-a-z0-9._]*$/i;function fm(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=qt(e[r]||t),i={"":s},a=Ja(n,s,!1),l={},u=new Set;return sm(e,{allKeys:!0},(y,S,A,_)=>{if(_===void 0)return;const $=a+S;let g=i[_];typeof y[r]=="string"&&(g=h.call(this,y[r])),E.call(this,y.$anchor),E.call(this,y.$dynamicAnchor),i[S]=g;function h(T){const M=this.opts.uriResolver.resolve;if(T=qt(g?M(g,T):T),u.has(T))throw d(T);u.add(T);let V=this.refs[T];return typeof V=="string"&&(V=this.refs[V]),typeof V=="object"?f(y,V.schema,T):T!==qt($)&&(T[0]==="#"?(f(y,l[T],T),l[T]=y):this.refs[T]=$),T}function E(T){if(typeof T=="string"){if(!um.test(T))throw new Error(`invalid anchor "${T}"`);h.call(this,`#${T}`)}}}),l;function f(y,S,A){if(S!==void 0&&!nm(y,S))throw d(A)}function d(y){return new Error(`reference "${y}" resolves to more than one schema`)}}ye.getSchemaRefs=fm;Object.defineProperty(Ve,"__esModule",{value:!0});Ve.getData=Ve.KeywordCxt=Ve.validateFunctionCode=void 0;const Wa=Bt,Ui=Mr,ys=Ze,nn=Mr,dm=vn,dr=qe,Pn=lt,H=J,z=We,hm=ye,xe=ee,or=Cr;function pm(e){if(Za(e)&&(xa(e),Qa(e))){ym(e);return}Ya(e,()=>(0,Wa.topBoolOrEmptySchema)(e))}Ve.validateFunctionCode=pm;function Ya({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},i){s.code.es5?e.func(t,(0,H._)`${z.default.data}, ${z.default.valCxt}`,n.$async,()=>{e.code((0,H._)`"use strict"; ${qi(r,s)}`),mm(e,s),e.code(i)}):e.func(t,(0,H._)`${z.default.data}, ${vm(s)}`,n.$async,()=>e.code(qi(r,s)).code(i))}function vm(e){return(0,H._)`{${z.default.instancePath}="", ${z.default.parentData}, ${z.default.parentDataProperty}, ${z.default.rootData}=${z.default.data}${e.dynamicRef?(0,H._)`, ${z.default.dynamicAnchors}={}`:H.nil}}={}`}function mm(e,t){e.if(z.default.valCxt,()=>{e.var(z.default.instancePath,(0,H._)`${z.default.valCxt}.${z.default.instancePath}`),e.var(z.default.parentData,(0,H._)`${z.default.valCxt}.${z.default.parentData}`),e.var(z.default.parentDataProperty,(0,H._)`${z.default.valCxt}.${z.default.parentDataProperty}`),e.var(z.default.rootData,(0,H._)`${z.default.valCxt}.${z.default.rootData}`),t.dynamicRef&&e.var(z.default.dynamicAnchors,(0,H._)`${z.default.valCxt}.${z.default.dynamicAnchors}`)},()=>{e.var(z.default.instancePath,(0,H._)`""`),e.var(z.default.parentData,(0,H._)`undefined`),e.var(z.default.parentDataProperty,(0,H._)`undefined`),e.var(z.default.rootData,z.default.data),t.dynamicRef&&e.var(z.default.dynamicAnchors,(0,H._)`{}`)})}function ym(e){const{schema:t,opts:r,gen:n}=e;Ya(e,()=>{r.$comment&&t.$comment&&to(e),Em(e),n.let(z.default.vErrors,null),n.let(z.default.errors,0),r.unevaluated&&gm(e),eo(e),wm(e)})}function gm(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,H._)`${r}.evaluated`),t.if((0,H._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,H._)`${e.evaluated}.props`,(0,H._)`undefined`)),t.if((0,H._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,H._)`${e.evaluated}.items`,(0,H._)`undefined`))}function qi(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,H._)`/*# sourceURL=${r} */`:H.nil}function _m(e,t){if(Za(e)&&(xa(e),Qa(e))){$m(e,t);return}(0,Wa.boolOrEmptySchema)(e,t)}function Qa({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Za(e){return typeof e.schema!="boolean"}function $m(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&to(e),bm(e),Sm(e);const i=n.const("_errs",z.default.errors);eo(e,i),n.var(t,(0,H._)`${i} === ${z.default.errors}`)}function xa(e){(0,xe.checkUnknownRules)(e),jm(e)}function eo(e,t){if(e.opts.jtd)return zi(e,[],!1,t);const r=(0,Ui.getSchemaTypes)(e.schema),n=(0,Ui.coerceAndCheckDataType)(e,r);zi(e,r,!n,t)}function jm(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,xe.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Em(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,xe.checkStrictMode)(e,"default is ignored in the schema root")}function bm(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,hm.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Sm(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function to({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const i=r.$comment;if(s.$comment===!0)e.code((0,H._)`${z.default.self}.logger.log(${i})`);else if(typeof s.$comment=="function"){const a=(0,H.str)`${n}/$comment`,l=e.scopeValue("root",{ref:t.root});e.code((0,H._)`${z.default.self}.opts.$comment(${i}, ${a}, ${l}.schema)`)}}function wm(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:i}=e;r.$async?t.if((0,H._)`${z.default.errors} === 0`,()=>t.return(z.default.data),()=>t.throw((0,H._)`new ${s}(${z.default.vErrors})`)):(t.assign((0,H._)`${n}.errors`,z.default.vErrors),i.unevaluated&&Pm(e),t.return((0,H._)`${z.default.errors} === 0`))}function Pm({gen:e,evaluated:t,props:r,items:n}){r instanceof H.Name&&e.assign((0,H._)`${t}.props`,r),n instanceof H.Name&&e.assign((0,H._)`${t}.items`,n)}function zi(e,t,r,n){const{gen:s,schema:i,data:a,allErrors:l,opts:u,self:f}=e,{RULES:d}=f;if(i.$ref&&(u.ignoreKeywordsWithRef||!(0,xe.schemaHasRulesButRef)(i,d))){s.block(()=>no(e,"$ref",d.all.$ref.definition));return}u.jtd||Om(e,t),s.block(()=>{for(const S of d.rules)y(S);y(d.post)});function y(S){!(0,ys.shouldUseGroup)(i,S)||(S.type?(s.if((0,nn.checkDataType)(S.type,a,u.strictNumbers)),Ki(e,S),t.length===1&&t[0]===S.type&&r&&(s.else(),(0,nn.reportTypeError)(e)),s.endIf()):Ki(e,S),l||s.if((0,H._)`${z.default.errors} === ${n||0}`))}}function Ki(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,dm.assignDefaults)(e,t.type),r.block(()=>{for(const i of t.rules)(0,ys.shouldUseRule)(n,i)&&no(e,i.keyword,i.definition,t.type)})}function Om(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Tm(e,t),e.opts.allowUnionTypes||Fm(e,t),Am(e,e.dataTypes))}function Tm(e,t){if(!!t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{Bi(e.dataTypes,r)||gs(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),e.dataTypes=e.dataTypes.filter(r=>Bi(t,r))}}function Fm(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&gs(e,"use allowUnionTypes to allow union type keyword")}function Am(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,ys.shouldUseRule)(e.schema,s)){const{type:i}=s.definition;i.length&&!i.some(a=>Cm(t,a))&&gs(e,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function Cm(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function Bi(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function gs(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,xe.checkStrictMode)(e,t,e.opts.strictTypes)}class ro{constructor(t,r,n){if((0,dr.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,xe.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",so(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,dr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",z.default.errors))}result(t,r,n){this.failResult((0,H.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,H.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,H._)`${r} !== undefined && (${(0,H.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?or.reportExtraError:or.reportError)(this,this.def.error,r)}$dataError(){(0,or.reportError)(this,this.def.$dataError||or.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,or.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=H.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=H.nil,r=H.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:i,def:a}=this;n.if((0,H.or)((0,H._)`${s} === undefined`,r)),t!==H.nil&&n.assign(t,!0),(i.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==H.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:i}=this;return(0,H.or)(a(),l());function a(){if(n.length){if(!(r instanceof H.Name))throw new Error("ajv implementation error");const u=Array.isArray(n)?n:[n];return(0,H._)`${(0,nn.checkDataTypes)(u,r,i.opts.strictNumbers,nn.DataType.Wrong)}`}return H.nil}function l(){if(s.validateSchema){const u=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,H._)`!${u}(${r})`}return H.nil}}subschema(t,r){const n=(0,Pn.getSubschema)(this.it,t);(0,Pn.extendSubschemaData)(n,this.it,t),(0,Pn.extendSubschemaMode)(n,t);const s=ue(D(D({},this.it),n),{items:void 0,props:void 0});return _m(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;!n.opts.unevaluated||(n.props!==!0&&t.props!==void 0&&(n.props=xe.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=xe.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,H.Name)),!0}}Ve.KeywordCxt=ro;function no(e,t,r,n){const s=new ro(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,dr.funcKeywordCode)(s,r):"macro"in r?(0,dr.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,dr.funcKeywordCode)(s,r)}const Mm=/^\/(?:[^~]|~0|~1)*$/,Nm=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function so(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,i;if(e==="")return z.default.rootData;if(e[0]==="/"){if(!Mm.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,i=z.default.rootData}else{const f=Nm.exec(e);if(!f)throw new Error(`Invalid JSON-pointer: ${e}`);const d=+f[1];if(s=f[2],s==="#"){if(d>=t)throw new Error(u("property/index",d));return n[t-d]}if(d>t)throw new Error(u("data",d));if(i=r[t-d],!s)return i}let a=i;const l=s.split("/");for(const f of l)f&&(i=(0,H._)`${i}${(0,H.getProperty)((0,xe.unescapeJsonPointer)(f))}`,a=(0,H._)`${a} && ${i}`);return a;function u(f,d){return`Cannot access ${f} ${d} levels up, current level is ${t}`}}Ve.getData=so;var mn={};Object.defineProperty(mn,"__esModule",{value:!0});class Vm extends Error{constructor(t){super("validation failed");this.errors=t,this.ajv=this.validation=!0}}mn.default=Vm;var yn={};Object.defineProperty(yn,"__esModule",{value:!0});const On=ye;class Im extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`);this.missingRef=(0,On.resolveUrl)(t,r,n),this.missingSchema=(0,On.normalizeId)((0,On.getFullPath)(t,this.missingRef))}}yn.default=Im;var Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.resolveSchema=Ee.getCompilingSchema=Ee.resolveRef=Ee.compileSchema=Ee.SchemaEnv=void 0;const Ce=J,Rm=mn,gt=We,Ne=ye,Gi=ee,Dm=Ve;class gn{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Ne.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}Ee.SchemaEnv=gn;function _s(e){const t=io.call(this,e);if(t)return t;const r=(0,Ne.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,a=new Ce.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i});let l;e.$async&&(l=a.scopeValue("Error",{ref:Rm.default,code:(0,Ce._)`require("ajv/dist/runtime/validation_error").default`}));const u=a.scopeName("validate");e.validateName=u;const f={gen:a,allErrors:this.opts.allErrors,data:gt.default.data,parentData:gt.default.parentData,parentDataProperty:gt.default.parentDataProperty,dataNames:[gt.default.data],dataPathArr:[Ce.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ce.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:l,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Ce.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ce._)`""`,opts:this.opts,self:this};let d;try{this._compilations.add(e),(0,Dm.validateFunctionCode)(f),a.optimize(this.opts.code.optimize);const y=a.toString();d=`${a.scopeRefs(gt.default.scope)}return ${y}`,this.opts.code.process&&(d=this.opts.code.process(d,e));const A=new Function(`${gt.default.self}`,`${gt.default.scope}`,d)(this,this.scope.get());if(this.scope.value(u,{ref:A}),A.errors=null,A.schema=e.schema,A.schemaEnv=e,e.$async&&(A.$async=!0),this.opts.code.source===!0&&(A.source={validateName:u,validateCode:y,scopeValues:a._values}),this.opts.unevaluated){const{props:_,items:$}=f;A.evaluated={props:_ instanceof Ce.Name?void 0:_,items:$ instanceof Ce.Name?void 0:$,dynamicProps:_ instanceof Ce.Name,dynamicItems:$ instanceof Ce.Name},A.source&&(A.source.evaluated=(0,Ce.stringify)(A.evaluated))}return e.validate=A,e}catch(y){throw delete e.validate,delete e.validateName,d&&this.logger.error("Error compiling schema, function code:",d),y}finally{this._compilations.delete(e)}}Ee.compileSchema=_s;function km(e,t,r){var n;r=(0,Ne.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let i=Um.call(this,e,r);if(i===void 0){const a=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:l}=this.opts;a&&(i=new gn({schema:a,schemaId:l,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=Lm.call(this,i)}Ee.resolveRef=km;function Lm(e){return(0,Ne.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:_s.call(this,e)}function io(e){for(const t of this._compilations)if(Hm(t,e))return t}Ee.getCompilingSchema=io;function Hm(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Um(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||_n.call(this,e,t)}function _n(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Ne._getFullPath)(this.opts.uriResolver,r);let s=(0,Ne.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return Tn.call(this,r,e);const i=(0,Ne.normalizeId)(n),a=this.refs[i]||this.schemas[i];if(typeof a=="string"){const l=_n.call(this,e,a);return typeof(l==null?void 0:l.schema)!="object"?void 0:Tn.call(this,r,l)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||_s.call(this,a),i===(0,Ne.normalizeId)(t)){const{schema:l}=a,{schemaId:u}=this.opts,f=l[u];return f&&(s=(0,Ne.resolveUrl)(this.opts.uriResolver,s,f)),new gn({schema:l,schemaId:u,root:e,baseId:s})}return Tn.call(this,r,a)}}Ee.resolveSchema=_n;const qm=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Tn(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const l of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const u=r[(0,Gi.unescapeFragment)(l)];if(u===void 0)return;r=u;const f=typeof r=="object"&&r[this.opts.schemaId];!qm.has(l)&&f&&(t=(0,Ne.resolveUrl)(this.opts.uriResolver,t,f))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,Gi.schemaHasRulesButRef)(r,this.RULES)){const l=(0,Ne.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=_n.call(this,n,l)}const{schemaId:a}=this.opts;if(i=i||new gn({schema:r,schemaId:a,root:n,baseId:t}),i.schema!==i.root.schema)return i}const zm="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Km="Meta-schema for $data reference (JSON AnySchema extension proposal)",Bm="object",Gm=["$data"],Jm={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Xm=!1;var Wm={$id:zm,description:Km,type:Bm,required:Gm,properties:Jm,additionalProperties:Xm},$s={},qn={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(yv,function(r){function n(){for(var p=arguments.length,c=Array(p),m=0;m<p;m++)c[m]=arguments[m];if(c.length>1){c[0]=c[0].slice(0,-1);for(var O=c.length-1,P=1;P<O;++P)c[P]=c[P].slice(1,-1);return c[O]=c[O].slice(1),c.join("")}else return c[0]}function s(p){return"(?:"+p+")"}function i(p){return p===void 0?"undefined":p===null?"null":Object.prototype.toString.call(p).split(" ").pop().split("]").shift().toLowerCase()}function a(p){return p.toUpperCase()}function l(p){return p!=null?p instanceof Array?p:typeof p.length!="number"||p.split||p.setInterval||p.call?[p]:Array.prototype.slice.call(p):[]}function u(p,c){var m=p;if(c)for(var O in c)m[O]=c[O];return m}function f(p){var c="[A-Za-z]",m="[0-9]",O=n(m,"[A-Fa-f]"),P=s(s("%[EFef]"+O+"%"+O+O+"%"+O+O)+"|"+s("%[89A-Fa-f]"+O+"%"+O+O)+"|"+s("%"+O+O)),U="[\\:\\/\\?\\#\\[\\]\\@]",q="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",x=n(U,q),ne=p?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",fe=p?"[\\uE000-\\uF8FF]":"[]",Y=n(c,m,"[\\-\\.\\_\\~]",ne);s(c+n(c,m,"[\\+\\-\\.]")+"*"),s(s(P+"|"+n(Y,q,"[\\:]"))+"*");var te=s(s("25[0-5]")+"|"+s("2[0-4]"+m)+"|"+s("1"+m+m)+"|"+s("0?[1-9]"+m)+"|0?0?"+m),de=s(te+"\\."+te+"\\."+te+"\\."+te),B=s(O+"{1,4}"),ae=s(s(B+"\\:"+B)+"|"+de),ve=s(s(B+"\\:")+"{6}"+ae),oe=s("\\:\\:"+s(B+"\\:")+"{5}"+ae),nt=s(s(B)+"?\\:\\:"+s(B+"\\:")+"{4}"+ae),ke=s(s(s(B+"\\:")+"{0,1}"+B)+"?\\:\\:"+s(B+"\\:")+"{3}"+ae),Le=s(s(s(B+"\\:")+"{0,2}"+B)+"?\\:\\:"+s(B+"\\:")+"{2}"+ae),Dt=s(s(s(B+"\\:")+"{0,3}"+B)+"?\\:\\:"+B+"\\:"+ae),mt=s(s(s(B+"\\:")+"{0,4}"+B)+"?\\:\\:"+ae),Fe=s(s(s(B+"\\:")+"{0,5}"+B)+"?\\:\\:"+B),He=s(s(s(B+"\\:")+"{0,6}"+B)+"?\\:\\:"),yt=s([ve,oe,nt,ke,Le,Dt,mt,Fe,He].join("|")),Ye=s(s(Y+"|"+P)+"+");s("[vV]"+O+"+\\."+n(Y,q,"[\\:]")+"+"),s(s(P+"|"+n(Y,q))+"*");var sr=s(P+"|"+n(Y,q,"[\\:\\@]"));return s(s(P+"|"+n(Y,q,"[\\@]"))+"+"),s(s(sr+"|"+n("[\\/\\?]",fe))+"*"),{NOT_SCHEME:new RegExp(n("[^]",c,m,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",Y,q),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",Y,q),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",Y,q),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",Y,q),"g"),NOT_QUERY:new RegExp(n("[^\\%]",Y,q,"[\\:\\@\\/\\?]",fe),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",Y,q,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",Y,q),"g"),UNRESERVED:new RegExp(Y,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",Y,x),"g"),PCT_ENCODED:new RegExp(P,"g"),IPV4ADDRESS:new RegExp("^("+de+")$"),IPV6ADDRESS:new RegExp("^\\[?("+yt+")"+s(s("\\%25|\\%(?!"+O+"{2})")+"("+Ye+")")+"?\\]?$")}}var d=f(!1),y=f(!0),S=function(){function p(c,m){var O=[],P=!0,U=!1,q=void 0;try{for(var x=c[Symbol.iterator](),ne;!(P=(ne=x.next()).done)&&(O.push(ne.value),!(m&&O.length===m));P=!0);}catch(fe){U=!0,q=fe}finally{try{!P&&x.return&&x.return()}finally{if(U)throw q}}return O}return function(c,m){if(Array.isArray(c))return c;if(Symbol.iterator in Object(c))return p(c,m);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),A=function(p){if(Array.isArray(p)){for(var c=0,m=Array(p.length);c<p.length;c++)m[c]=p[c];return m}else return Array.from(p)},_=2147483647,$=36,g=1,h=26,E=38,T=700,M=72,V=128,b="-",F=/^xn--/,I=/[^\0-\x7E]/,K=/[\x2E\u3002\uFF0E\uFF61]/g,X={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},le=$-g,Z=Math.floor,Oe=String.fromCharCode;function pe(p){throw new RangeError(X[p])}function dt(p,c){for(var m=[],O=p.length;O--;)m[O]=c(p[O]);return m}function ht(p,c){var m=p.split("@"),O="";m.length>1&&(O=m[0]+"@",p=m[1]),p=p.replace(K,".");var P=p.split("."),U=dt(P,c).join(".");return O+U}function Ft(p){for(var c=[],m=0,O=p.length;m<O;){var P=p.charCodeAt(m++);if(P>=55296&&P<=56319&&m<O){var U=p.charCodeAt(m++);(U&64512)==56320?c.push(((P&1023)<<10)+(U&1023)+65536):(c.push(P),m--)}else c.push(P)}return c}var Yt=function(c){return String.fromCodePoint.apply(String,A(c))},At=function(c){return c-48<10?c-22:c-65<26?c-65:c-97<26?c-97:$},R=function(c,m){return c+22+75*(c<26)-((m!=0)<<5)},j=function(c,m,O){var P=0;for(c=O?Z(c/T):c>>1,c+=Z(c/m);c>le*h>>1;P+=$)c=Z(c/le);return Z(P+(le+1)*c/(c+E))},N=function(c){var m=[],O=c.length,P=0,U=V,q=M,x=c.lastIndexOf(b);x<0&&(x=0);for(var ne=0;ne<x;++ne)c.charCodeAt(ne)>=128&&pe("not-basic"),m.push(c.charCodeAt(ne));for(var fe=x>0?x+1:0;fe<O;){for(var Y=P,te=1,de=$;;de+=$){fe>=O&&pe("invalid-input");var B=At(c.charCodeAt(fe++));(B>=$||B>Z((_-P)/te))&&pe("overflow"),P+=B*te;var ae=de<=q?g:de>=q+h?h:de-q;if(B<ae)break;var ve=$-ae;te>Z(_/ve)&&pe("overflow"),te*=ve}var oe=m.length+1;q=j(P-Y,oe,Y==0),Z(P/oe)>_-U&&pe("overflow"),U+=Z(P/oe),P%=oe,m.splice(P++,0,U)}return String.fromCodePoint.apply(String,m)},w=function(c){var m=[];c=Ft(c);var O=c.length,P=V,U=0,q=M,x=!0,ne=!1,fe=void 0;try{for(var Y=c[Symbol.iterator](),te;!(x=(te=Y.next()).done);x=!0){var de=te.value;de<128&&m.push(Oe(de))}}catch(ir){ne=!0,fe=ir}finally{try{!x&&Y.return&&Y.return()}finally{if(ne)throw fe}}var B=m.length,ae=B;for(B&&m.push(b);ae<O;){var ve=_,oe=!0,nt=!1,ke=void 0;try{for(var Le=c[Symbol.iterator](),Dt;!(oe=(Dt=Le.next()).done);oe=!0){var mt=Dt.value;mt>=P&&mt<ve&&(ve=mt)}}catch(ir){nt=!0,ke=ir}finally{try{!oe&&Le.return&&Le.return()}finally{if(nt)throw ke}}var Fe=ae+1;ve-P>Z((_-U)/Fe)&&pe("overflow"),U+=(ve-P)*Fe,P=ve;var He=!0,yt=!1,Ye=void 0;try{for(var sr=c[Symbol.iterator](),ai;!(He=(ai=sr.next()).done);He=!0){var oi=ai.value;if(oi<P&&++U>_&&pe("overflow"),oi==P){for(var Ir=U,Rr=$;;Rr+=$){var Dr=Rr<=q?g:Rr>=q+h?h:Rr-q;if(Ir<Dr)break;var li=Ir-Dr,ci=$-Dr;m.push(Oe(R(Dr+li%ci,0))),Ir=Z(li/ci)}m.push(Oe(R(Ir,0))),q=j(U,Fe,ae==B),U=0,++ae}}}catch(ir){yt=!0,Ye=ir}finally{try{!He&&sr.return&&sr.return()}finally{if(yt)throw Ye}}++U,++P}return m.join("")},o=function(c){return ht(c,function(m){return F.test(m)?N(m.slice(4).toLowerCase()):m})},v=function(c){return ht(c,function(m){return I.test(m)?"xn--"+w(m):m})},C={version:"2.1.0",ucs2:{decode:Ft,encode:Yt},decode:N,encode:w,toASCII:v,toUnicode:o},k={};function L(p){var c=p.charCodeAt(0),m=void 0;return c<16?m="%0"+c.toString(16).toUpperCase():c<128?m="%"+c.toString(16).toUpperCase():c<2048?m="%"+(c>>6|192).toString(16).toUpperCase()+"%"+(c&63|128).toString(16).toUpperCase():m="%"+(c>>12|224).toString(16).toUpperCase()+"%"+(c>>6&63|128).toString(16).toUpperCase()+"%"+(c&63|128).toString(16).toUpperCase(),m}function W(p){for(var c="",m=0,O=p.length;m<O;){var P=parseInt(p.substr(m+1,2),16);if(P<128)c+=String.fromCharCode(P),m+=3;else if(P>=194&&P<224){if(O-m>=6){var U=parseInt(p.substr(m+4,2),16);c+=String.fromCharCode((P&31)<<6|U&63)}else c+=p.substr(m,6);m+=6}else if(P>=224){if(O-m>=9){var q=parseInt(p.substr(m+4,2),16),x=parseInt(p.substr(m+7,2),16);c+=String.fromCharCode((P&15)<<12|(q&63)<<6|x&63)}else c+=p.substr(m,9);m+=9}else c+=p.substr(m,3),m+=3}return c}function Q(p,c){function m(O){var P=W(O);return P.match(c.UNRESERVED)?P:O}return p.scheme&&(p.scheme=String(p.scheme).replace(c.PCT_ENCODED,m).toLowerCase().replace(c.NOT_SCHEME,"")),p.userinfo!==void 0&&(p.userinfo=String(p.userinfo).replace(c.PCT_ENCODED,m).replace(c.NOT_USERINFO,L).replace(c.PCT_ENCODED,a)),p.host!==void 0&&(p.host=String(p.host).replace(c.PCT_ENCODED,m).toLowerCase().replace(c.NOT_HOST,L).replace(c.PCT_ENCODED,a)),p.path!==void 0&&(p.path=String(p.path).replace(c.PCT_ENCODED,m).replace(p.scheme?c.NOT_PATH:c.NOT_PATH_NOSCHEME,L).replace(c.PCT_ENCODED,a)),p.query!==void 0&&(p.query=String(p.query).replace(c.PCT_ENCODED,m).replace(c.NOT_QUERY,L).replace(c.PCT_ENCODED,a)),p.fragment!==void 0&&(p.fragment=String(p.fragment).replace(c.PCT_ENCODED,m).replace(c.NOT_FRAGMENT,L).replace(c.PCT_ENCODED,a)),p}function ce(p){return p.replace(/^0*(.*)/,"$1")||"0"}function Ie(p,c){var m=p.match(c.IPV4ADDRESS)||[],O=S(m,2),P=O[1];return P?P.split(".").map(ce).join("."):p}function Ct(p,c){var m=p.match(c.IPV6ADDRESS)||[],O=S(m,3),P=O[1],U=O[2];if(P){for(var q=P.toLowerCase().split("::").reverse(),x=S(q,2),ne=x[0],fe=x[1],Y=fe?fe.split(":").map(ce):[],te=ne.split(":").map(ce),de=c.IPV4ADDRESS.test(te[te.length-1]),B=de?7:8,ae=te.length-B,ve=Array(B),oe=0;oe<B;++oe)ve[oe]=Y[oe]||te[ae+oe]||"";de&&(ve[B-1]=Ie(ve[B-1],c));var nt=ve.reduce(function(Fe,He,yt){if(!He||He==="0"){var Ye=Fe[Fe.length-1];Ye&&Ye.index+Ye.length===yt?Ye.length++:Fe.push({index:yt,length:1})}return Fe},[]),ke=nt.sort(function(Fe,He){return He.length-Fe.length})[0],Le=void 0;if(ke&&ke.length>1){var Dt=ve.slice(0,ke.index),mt=ve.slice(ke.index+ke.length);Le=Dt.join(":")+"::"+mt.join(":")}else Le=ve.join(":");return U&&(Le+="%"+U),Le}else return p}var Qt=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Zt="".match(/(){0}/)[1]===void 0;function Se(p){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m={},O=c.iri!==!1?y:d;c.reference==="suffix"&&(p=(c.scheme?c.scheme+":":"")+"//"+p);var P=p.match(Qt);if(P){Zt?(m.scheme=P[1],m.userinfo=P[3],m.host=P[4],m.port=parseInt(P[5],10),m.path=P[6]||"",m.query=P[7],m.fragment=P[8],isNaN(m.port)&&(m.port=P[5])):(m.scheme=P[1]||void 0,m.userinfo=p.indexOf("@")!==-1?P[3]:void 0,m.host=p.indexOf("//")!==-1?P[4]:void 0,m.port=parseInt(P[5],10),m.path=P[6]||"",m.query=p.indexOf("?")!==-1?P[7]:void 0,m.fragment=p.indexOf("#")!==-1?P[8]:void 0,isNaN(m.port)&&(m.port=p.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?P[4]:void 0)),m.host&&(m.host=Ct(Ie(m.host,O),O)),m.scheme===void 0&&m.userinfo===void 0&&m.host===void 0&&m.port===void 0&&!m.path&&m.query===void 0?m.reference="same-document":m.scheme===void 0?m.reference="relative":m.fragment===void 0?m.reference="absolute":m.reference="uri",c.reference&&c.reference!=="suffix"&&c.reference!==m.reference&&(m.error=m.error||"URI is not a "+c.reference+" reference.");var U=k[(c.scheme||m.scheme||"").toLowerCase()];if(!c.unicodeSupport&&(!U||!U.unicodeSupport)){if(m.host&&(c.domainHost||U&&U.domainHost))try{m.host=C.toASCII(m.host.replace(O.PCT_ENCODED,W).toLowerCase())}catch(q){m.error=m.error||"Host's domain name can not be converted to ASCII via punycode: "+q}Q(m,d)}else Q(m,O);U&&U.parse&&U.parse(m,c)}else m.error=m.error||"URI can not be parsed.";return m}function xt(p,c){var m=c.iri!==!1?y:d,O=[];return p.userinfo!==void 0&&(O.push(p.userinfo),O.push("@")),p.host!==void 0&&O.push(Ct(Ie(String(p.host),m),m).replace(m.IPV6ADDRESS,function(P,U,q){return"["+U+(q?"%25"+q:"")+"]"})),(typeof p.port=="number"||typeof p.port=="string")&&(O.push(":"),O.push(String(p.port))),O.length?O.join(""):void 0}var Mt=/^\.\.?\//,Nt=/^\/\.(\/|$)/,Vt=/^\/\.\.(\/|$)/,er=/^\/?(?:.|\n)*?(?=\/|$)/;function Re(p){for(var c=[];p.length;)if(p.match(Mt))p=p.replace(Mt,"");else if(p.match(Nt))p=p.replace(Nt,"/");else if(p.match(Vt))p=p.replace(Vt,"/"),c.pop();else if(p==="."||p==="..")p="";else{var m=p.match(er);if(m){var O=m[0];p=p.slice(O.length),c.push(O)}else throw new Error("Unexpected dot segment condition")}return c.join("")}function $e(p){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=c.iri?y:d,O=[],P=k[(c.scheme||p.scheme||"").toLowerCase()];if(P&&P.serialize&&P.serialize(p,c),p.host&&!m.IPV6ADDRESS.test(p.host)){if(c.domainHost||P&&P.domainHost)try{p.host=c.iri?C.toUnicode(p.host):C.toASCII(p.host.replace(m.PCT_ENCODED,W).toLowerCase())}catch(x){p.error=p.error||"Host's domain name can not be converted to "+(c.iri?"Unicode":"ASCII")+" via punycode: "+x}}Q(p,m),c.reference!=="suffix"&&p.scheme&&(O.push(p.scheme),O.push(":"));var U=xt(p,c);if(U!==void 0&&(c.reference!=="suffix"&&O.push("//"),O.push(U),p.path&&p.path.charAt(0)!=="/"&&O.push("/")),p.path!==void 0){var q=p.path;!c.absolutePath&&(!P||!P.absolutePath)&&(q=Re(q)),U===void 0&&(q=q.replace(/^\/\//,"/%2F")),O.push(q)}return p.query!==void 0&&(O.push("?"),O.push(p.query)),p.fragment!==void 0&&(O.push("#"),O.push(p.fragment)),O.join("")}function It(p,c){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},O=arguments[3],P={};return O||(p=Se($e(p,m),m),c=Se($e(c,m),m)),m=m||{},!m.tolerant&&c.scheme?(P.scheme=c.scheme,P.userinfo=c.userinfo,P.host=c.host,P.port=c.port,P.path=Re(c.path||""),P.query=c.query):(c.userinfo!==void 0||c.host!==void 0||c.port!==void 0?(P.userinfo=c.userinfo,P.host=c.host,P.port=c.port,P.path=Re(c.path||""),P.query=c.query):(c.path?(c.path.charAt(0)==="/"?P.path=Re(c.path):((p.userinfo!==void 0||p.host!==void 0||p.port!==void 0)&&!p.path?P.path="/"+c.path:p.path?P.path=p.path.slice(0,p.path.lastIndexOf("/")+1)+c.path:P.path=c.path,P.path=Re(P.path)),P.query=c.query):(P.path=p.path,c.query!==void 0?P.query=c.query:P.query=p.query),P.userinfo=p.userinfo,P.host=p.host,P.port=p.port),P.scheme=p.scheme),P.fragment=c.fragment,P}function tr(p,c,m){var O=u({scheme:"null"},m);return $e(It(Se(p,O),Se(c,O),O,!0),O)}function pt(p,c){return typeof p=="string"?p=$e(Se(p,c),c):i(p)==="object"&&(p=Se($e(p,c),c)),p}function rr(p,c,m){return typeof p=="string"?p=$e(Se(p,m),m):i(p)==="object"&&(p=$e(p,m)),typeof c=="string"?c=$e(Se(c,m),m):i(c)==="object"&&(c=$e(c,m)),p===c}function Vr(p,c){return p&&p.toString().replace(!c||!c.iri?d.ESCAPE:y.ESCAPE,L)}function Te(p,c){return p&&p.toString().replace(!c||!c.iri?d.PCT_ENCODED:y.PCT_ENCODED,W)}var vt={scheme:"http",domainHost:!0,parse:function(c,m){return c.host||(c.error=c.error||"HTTP URIs must have a host."),c},serialize:function(c,m){var O=String(c.scheme).toLowerCase()==="https";return(c.port===(O?443:80)||c.port==="")&&(c.port=void 0),c.path||(c.path="/"),c}},Zs={scheme:"https",domainHost:vt.domainHost,parse:vt.parse,serialize:vt.serialize};function xs(p){return typeof p.secure=="boolean"?p.secure:String(p.scheme).toLowerCase()==="wss"}var nr={scheme:"ws",domainHost:!0,parse:function(c,m){var O=c;return O.secure=xs(O),O.resourceName=(O.path||"/")+(O.query?"?"+O.query:""),O.path=void 0,O.query=void 0,O},serialize:function(c,m){if((c.port===(xs(c)?443:80)||c.port==="")&&(c.port=void 0),typeof c.secure=="boolean"&&(c.scheme=c.secure?"wss":"ws",c.secure=void 0),c.resourceName){var O=c.resourceName.split("?"),P=S(O,2),U=P[0],q=P[1];c.path=U&&U!=="/"?U:void 0,c.query=q,c.resourceName=void 0}return c.fragment=void 0,c}},ei={scheme:"wss",domainHost:nr.domainHost,parse:nr.parse,serialize:nr.serialize},_o={},ti="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",De="[0-9A-Fa-f]",$o=s(s("%[EFef]"+De+"%"+De+De+"%"+De+De)+"|"+s("%[89A-Fa-f]"+De+"%"+De+De)+"|"+s("%"+De+De)),jo="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Eo="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",bo=n(Eo,'[\\"\\\\]'),So="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",wo=new RegExp(ti,"g"),Rt=new RegExp($o,"g"),Po=new RegExp(n("[^]",jo,"[\\.]",'[\\"]',bo),"g"),ri=new RegExp(n("[^]",ti,So),"g"),Oo=ri;function jn(p){var c=W(p);return c.match(wo)?c:p}var ni={scheme:"mailto",parse:function(c,m){var O=c,P=O.to=O.path?O.path.split(","):[];if(O.path=void 0,O.query){for(var U=!1,q={},x=O.query.split("&"),ne=0,fe=x.length;ne<fe;++ne){var Y=x[ne].split("=");switch(Y[0]){case"to":for(var te=Y[1].split(","),de=0,B=te.length;de<B;++de)P.push(te[de]);break;case"subject":O.subject=Te(Y[1],m);break;case"body":O.body=Te(Y[1],m);break;default:U=!0,q[Te(Y[0],m)]=Te(Y[1],m);break}}U&&(O.headers=q)}O.query=void 0;for(var ae=0,ve=P.length;ae<ve;++ae){var oe=P[ae].split("@");if(oe[0]=Te(oe[0]),m.unicodeSupport)oe[1]=Te(oe[1],m).toLowerCase();else try{oe[1]=C.toASCII(Te(oe[1],m).toLowerCase())}catch(nt){O.error=O.error||"Email address's domain name can not be converted to ASCII via punycode: "+nt}P[ae]=oe.join("@")}return O},serialize:function(c,m){var O=c,P=l(c.to);if(P){for(var U=0,q=P.length;U<q;++U){var x=String(P[U]),ne=x.lastIndexOf("@"),fe=x.slice(0,ne).replace(Rt,jn).replace(Rt,a).replace(Po,L),Y=x.slice(ne+1);try{Y=m.iri?C.toUnicode(Y):C.toASCII(Te(Y,m).toLowerCase())}catch(ae){O.error=O.error||"Email address's domain name can not be converted to "+(m.iri?"Unicode":"ASCII")+" via punycode: "+ae}P[U]=fe+"@"+Y}O.path=P.join(",")}var te=c.headers=c.headers||{};c.subject&&(te.subject=c.subject),c.body&&(te.body=c.body);var de=[];for(var B in te)te[B]!==_o[B]&&de.push(B.replace(Rt,jn).replace(Rt,a).replace(ri,L)+"="+te[B].replace(Rt,jn).replace(Rt,a).replace(Oo,L));return de.length&&(O.query=de.join("&")),O}},To=/^([^\:]+)\:(.*)/,si={scheme:"urn",parse:function(c,m){var O=c.path&&c.path.match(To),P=c;if(O){var U=m.scheme||P.scheme||"urn",q=O[1].toLowerCase(),x=O[2],ne=U+":"+(m.nid||q),fe=k[ne];P.nid=q,P.nss=x,P.path=void 0,fe&&(P=fe.parse(P,m))}else P.error=P.error||"URN can not be parsed.";return P},serialize:function(c,m){var O=m.scheme||c.scheme||"urn",P=c.nid,U=O+":"+(m.nid||P),q=k[U];q&&(c=q.serialize(c,m));var x=c,ne=c.nss;return x.path=(P||m.nid)+":"+ne,x}},Fo=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ii={scheme:"urn:uuid",parse:function(c,m){var O=c;return O.uuid=O.nss,O.nss=void 0,!m.tolerant&&(!O.uuid||!O.uuid.match(Fo))&&(O.error=O.error||"UUID is not valid."),O},serialize:function(c,m){var O=c;return O.nss=(c.uuid||"").toLowerCase(),O}};k[vt.scheme]=vt,k[Zs.scheme]=Zs,k[nr.scheme]=nr,k[ei.scheme]=ei,k[ni.scheme]=ni,k[si.scheme]=si,k[ii.scheme]=ii,r.SCHEMES=k,r.pctEncChar=L,r.pctDecChars=W,r.parse=Se,r.removeDotSegments=Re,r.serialize=$e,r.resolveComponents=It,r.resolve=tr,r.normalize=pt,r.equal=rr,r.escapeComponent=Vr,r.unescapeComponent=Te,Object.defineProperty(r,"__esModule",{value:!0})})})(qn,qn.exports);Object.defineProperty($s,"__esModule",{value:!0});const ao=qn.exports;ao.code='require("ajv/dist/runtime/uri").default';$s.default=ao;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ve;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=J;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=mn,s=yn,i=St,a=Ee,l=J,u=ye,f=Mr,d=ee,y=Wm,S=$s,A=(R,j)=>new RegExp(R,j);A.code="new RegExp";const _=["removeAdditional","useDefaults","coerceTypes"],$=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function T(R){var j,N,w,o,v,C,k,L,W,Q,ce,Ie,Ct,Qt,Zt,Se,xt,Mt,Nt,Vt,er,Re,$e,It,tr;const pt=R.strict,rr=(j=R.code)===null||j===void 0?void 0:j.optimize,Vr=rr===!0||rr===void 0?1:rr||0,Te=(w=(N=R.code)===null||N===void 0?void 0:N.regExp)!==null&&w!==void 0?w:A,vt=(o=R.uriResolver)!==null&&o!==void 0?o:S.default;return{strictSchema:(C=(v=R.strictSchema)!==null&&v!==void 0?v:pt)!==null&&C!==void 0?C:!0,strictNumbers:(L=(k=R.strictNumbers)!==null&&k!==void 0?k:pt)!==null&&L!==void 0?L:!0,strictTypes:(Q=(W=R.strictTypes)!==null&&W!==void 0?W:pt)!==null&&Q!==void 0?Q:"log",strictTuples:(Ie=(ce=R.strictTuples)!==null&&ce!==void 0?ce:pt)!==null&&Ie!==void 0?Ie:"log",strictRequired:(Qt=(Ct=R.strictRequired)!==null&&Ct!==void 0?Ct:pt)!==null&&Qt!==void 0?Qt:!1,code:R.code?ue(D({},R.code),{optimize:Vr,regExp:Te}):{optimize:Vr,regExp:Te},loopRequired:(Zt=R.loopRequired)!==null&&Zt!==void 0?Zt:E,loopEnum:(Se=R.loopEnum)!==null&&Se!==void 0?Se:E,meta:(xt=R.meta)!==null&&xt!==void 0?xt:!0,messages:(Mt=R.messages)!==null&&Mt!==void 0?Mt:!0,inlineRefs:(Nt=R.inlineRefs)!==null&&Nt!==void 0?Nt:!0,schemaId:(Vt=R.schemaId)!==null&&Vt!==void 0?Vt:"$id",addUsedSchema:(er=R.addUsedSchema)!==null&&er!==void 0?er:!0,validateSchema:(Re=R.validateSchema)!==null&&Re!==void 0?Re:!0,validateFormats:($e=R.validateFormats)!==null&&$e!==void 0?$e:!0,unicodeRegExp:(It=R.unicodeRegExp)!==null&&It!==void 0?It:!0,int32range:(tr=R.int32range)!==null&&tr!==void 0?tr:!0,uriResolver:vt}}class M{constructor(j={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,j=this.opts=D(D({},j),T(j));const{es5:N,lines:w}=this.opts.code;this.scope=new l.ValueScope({scope:{},prefixes:$,es5:N,lines:w}),this.logger=Z(j.logger);const o=j.validateFormats;j.validateFormats=!1,this.RULES=(0,i.getRules)(),V.call(this,g,j,"NOT SUPPORTED"),V.call(this,h,j,"DEPRECATED","warn"),this._metaOpts=X.call(this),j.formats&&I.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),j.keywords&&K.call(this,j.keywords),typeof j.meta=="object"&&this.addMetaSchema(j.meta),F.call(this),j.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:j,meta:N,schemaId:w}=this.opts;let o=y;w==="id"&&(o=D({},y),o.id=o.$id,delete o.$id),N&&j&&this.addMetaSchema(o,o[w],!1)}defaultMeta(){const{meta:j,schemaId:N}=this.opts;return this.opts.defaultMeta=typeof j=="object"?j[N]||j:void 0}validate(j,N){let w;if(typeof j=="string"){if(w=this.getSchema(j),!w)throw new Error(`no schema with key or ref "${j}"`)}else w=this.compile(j);const o=w(N);return"$async"in w||(this.errors=w.errors),o}compile(j,N){const w=this._addSchema(j,N);return w.validate||this._compileSchemaEnv(w)}compileAsync(j,N){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:w}=this.opts;return o.call(this,j,N);async function o(Q,ce){await v.call(this,Q.$schema);const Ie=this._addSchema(Q,ce);return Ie.validate||C.call(this,Ie)}async function v(Q){Q&&!this.getSchema(Q)&&await o.call(this,{$ref:Q},!0)}async function C(Q){try{return this._compileSchemaEnv(Q)}catch(ce){if(!(ce instanceof s.default))throw ce;return k.call(this,ce),await L.call(this,ce.missingSchema),C.call(this,Q)}}function k({missingSchema:Q,missingRef:ce}){if(this.refs[Q])throw new Error(`AnySchema ${Q} is loaded but ${ce} cannot be resolved`)}async function L(Q){const ce=await W.call(this,Q);this.refs[Q]||await v.call(this,ce.$schema),this.refs[Q]||this.addSchema(ce,Q,N)}async function W(Q){const ce=this._loading[Q];if(ce)return ce;try{return await(this._loading[Q]=w(Q))}finally{delete this._loading[Q]}}}addSchema(j,N,w,o=this.opts.validateSchema){if(Array.isArray(j)){for(const C of j)this.addSchema(C,void 0,w,o);return this}let v;if(typeof j=="object"){const{schemaId:C}=this.opts;if(v=j[C],v!==void 0&&typeof v!="string")throw new Error(`schema ${C} must be string`)}return N=(0,u.normalizeId)(N||v),this._checkUnique(N),this.schemas[N]=this._addSchema(j,w,N,o,!0),this}addMetaSchema(j,N,w=this.opts.validateSchema){return this.addSchema(j,N,!0,w),this}validateSchema(j,N){if(typeof j=="boolean")return!0;let w;if(w=j.$schema,w!==void 0&&typeof w!="string")throw new Error("$schema must be a string");if(w=w||this.opts.defaultMeta||this.defaultMeta(),!w)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const o=this.validate(w,j);if(!o&&N){const v="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(v);else throw new Error(v)}return o}getSchema(j){let N;for(;typeof(N=b.call(this,j))=="string";)j=N;if(N===void 0){const{schemaId:w}=this.opts,o=new a.SchemaEnv({schema:{},schemaId:w});if(N=a.resolveSchema.call(this,o,j),!N)return;this.refs[j]=N}return N.validate||this._compileSchemaEnv(N)}removeSchema(j){if(j instanceof RegExp)return this._removeAllSchemas(this.schemas,j),this._removeAllSchemas(this.refs,j),this;switch(typeof j){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const N=b.call(this,j);return typeof N=="object"&&this._cache.delete(N.schema),delete this.schemas[j],delete this.refs[j],this}case"object":{const N=j;this._cache.delete(N);let w=j[this.opts.schemaId];return w&&(w=(0,u.normalizeId)(w),delete this.schemas[w],delete this.refs[w]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(j){for(const N of j)this.addKeyword(N);return this}addKeyword(j,N){let w;if(typeof j=="string")w=j,typeof N=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),N.keyword=w);else if(typeof j=="object"&&N===void 0){if(N=j,w=N.keyword,Array.isArray(w)&&!w.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(pe.call(this,w,N),!N)return(0,d.eachItem)(w,v=>dt.call(this,v)),this;Ft.call(this,N);const o=ue(D({},N),{type:(0,f.getJSONTypes)(N.type),schemaType:(0,f.getJSONTypes)(N.schemaType)});return(0,d.eachItem)(w,o.type.length===0?v=>dt.call(this,v,o):v=>o.type.forEach(C=>dt.call(this,v,o,C))),this}getKeyword(j){const N=this.RULES.all[j];return typeof N=="object"?N.definition:!!N}removeKeyword(j){const{RULES:N}=this;delete N.keywords[j],delete N.all[j];for(const w of N.rules){const o=w.rules.findIndex(v=>v.keyword===j);o>=0&&w.rules.splice(o,1)}return this}addFormat(j,N){return typeof N=="string"&&(N=new RegExp(N)),this.formats[j]=N,this}errorsText(j=this.errors,{separator:N=", ",dataVar:w="data"}={}){return!j||j.length===0?"No errors":j.map(o=>`${w}${o.instancePath} ${o.message}`).reduce((o,v)=>o+N+v)}$dataMetaSchema(j,N){const w=this.RULES.all;j=JSON.parse(JSON.stringify(j));for(const o of N){const v=o.split("/").slice(1);let C=j;for(const k of v)C=C[k];for(const k in w){const L=w[k];if(typeof L!="object")continue;const{$data:W}=L.definition,Q=C[k];W&&Q&&(C[k]=At(Q))}}return j}_removeAllSchemas(j,N){for(const w in j){const o=j[w];(!N||N.test(w))&&(typeof o=="string"?delete j[w]:o&&!o.meta&&(this._cache.delete(o.schema),delete j[w]))}}_addSchema(j,N,w,o=this.opts.validateSchema,v=this.opts.addUsedSchema){let C;const{schemaId:k}=this.opts;if(typeof j=="object")C=j[k];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof j!="boolean")throw new Error("schema must be object or boolean")}let L=this._cache.get(j);if(L!==void 0)return L;w=(0,u.normalizeId)(C||w);const W=u.getSchemaRefs.call(this,j,w);return L=new a.SchemaEnv({schema:j,schemaId:k,meta:N,baseId:w,localRefs:W}),this._cache.set(L.schema,L),v&&!w.startsWith("#")&&(w&&this._checkUnique(w),this.refs[w]=L),o&&this.validateSchema(j,!0),L}_checkUnique(j){if(this.schemas[j]||this.refs[j])throw new Error(`schema with key or id "${j}" already exists`)}_compileSchemaEnv(j){if(j.meta?this._compileMetaSchema(j):a.compileSchema.call(this,j),!j.validate)throw new Error("ajv implementation error");return j.validate}_compileMetaSchema(j){const N=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,j)}finally{this.opts=N}}}e.default=M,M.ValidationError=n.default,M.MissingRefError=s.default;function V(R,j,N,w="error"){for(const o in R){const v=o;v in j&&this.logger[w](`${N}: option ${o}. ${R[v]}`)}}function b(R){return R=(0,u.normalizeId)(R),this.schemas[R]||this.refs[R]}function F(){const R=this.opts.schemas;if(!!R)if(Array.isArray(R))this.addSchema(R);else for(const j in R)this.addSchema(R[j],j)}function I(){for(const R in this.opts.formats){const j=this.opts.formats[R];j&&this.addFormat(R,j)}}function K(R){if(Array.isArray(R)){this.addVocabulary(R);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const j in R){const N=R[j];N.keyword||(N.keyword=j),this.addKeyword(N)}}function X(){const R=D({},this.opts);for(const j of _)delete R[j];return R}const le={log(){},warn(){},error(){}};function Z(R){if(R===!1)return le;if(R===void 0)return console;if(R.log&&R.warn&&R.error)return R;throw new Error("logger must implement log, warn and error methods")}const Oe=/^[a-z_$][a-z0-9_$:-]*$/i;function pe(R,j){const{RULES:N}=this;if((0,d.eachItem)(R,w=>{if(N.keywords[w])throw new Error(`Keyword ${w} is already defined`);if(!Oe.test(w))throw new Error(`Keyword ${w} has invalid name`)}),!!j&&j.$data&&!("code"in j||"validate"in j))throw new Error('$data keyword must have "code" or "validate" function')}function dt(R,j,N){var w;const o=j==null?void 0:j.post;if(N&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:v}=this;let C=o?v.post:v.rules.find(({type:L})=>L===N);if(C||(C={type:N,rules:[]},v.rules.push(C)),v.keywords[R]=!0,!j)return;const k={keyword:R,definition:ue(D({},j),{type:(0,f.getJSONTypes)(j.type),schemaType:(0,f.getJSONTypes)(j.schemaType)})};j.before?ht.call(this,C,k,j.before):C.rules.push(k),v.all[R]=k,(w=j.implements)===null||w===void 0||w.forEach(L=>this.addKeyword(L))}function ht(R,j,N){const w=R.rules.findIndex(o=>o.keyword===N);w>=0?R.rules.splice(w,0,j):(R.rules.push(j),this.logger.warn(`rule ${N} is not defined`))}function Ft(R){let{metaSchema:j}=R;j!==void 0&&(R.$data&&this.opts.$data&&(j=At(j)),R.validateSchema=this.compile(j,!0))}const Yt={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function At(R){return{anyOf:[R,Yt]}}})(Ra);var js={},Es={},bs={};Object.defineProperty(bs,"__esModule",{value:!0});const Ym={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};bs.default=Ym;var wt={};Object.defineProperty(wt,"__esModule",{value:!0});wt.callRef=wt.getValidate=void 0;const Qm=yn,Ji=G,je=J,Ht=We,Xi=Ee,Hr=ee,Zm={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:i,validateName:a,opts:l,self:u}=n,{root:f}=i;if((r==="#"||r==="#/")&&s===f.baseId)return y();const d=Xi.resolveRef.call(u,f,s,r);if(d===void 0)throw new Qm.default(n.opts.uriResolver,s,r);if(d instanceof Xi.SchemaEnv)return S(d);return A(d);function y(){if(i===f)return Wr(e,a,i,i.$async);const _=t.scopeValue("root",{ref:f});return Wr(e,(0,je._)`${_}.validate`,f,f.$async)}function S(_){const $=oo(e,_);Wr(e,$,_,_.$async)}function A(_){const $=t.scopeValue("schema",l.code.source===!0?{ref:_,code:(0,je.stringify)(_)}:{ref:_}),g=t.name("valid"),h=e.subschema({schema:_,dataTypes:[],schemaPath:je.nil,topSchemaRef:$,errSchemaPath:r},g);e.mergeEvaluated(h),e.ok(g)}}};function oo(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,je._)`${r.scopeValue("wrapper",{ref:t})}.validate`}wt.getValidate=oo;function Wr(e,t,r,n){const{gen:s,it:i}=e,{allErrors:a,schemaEnv:l,opts:u}=i,f=u.passContext?Ht.default.this:je.nil;n?d():y();function d(){if(!l.$async)throw new Error("async schema referenced by sync schema");const _=s.let("valid");s.try(()=>{s.code((0,je._)`await ${(0,Ji.callValidateCode)(e,t,f)}`),A(t),a||s.assign(_,!0)},$=>{s.if((0,je._)`!(${$} instanceof ${i.ValidationError})`,()=>s.throw($)),S($),a||s.assign(_,!1)}),e.ok(_)}function y(){e.result((0,Ji.callValidateCode)(e,t,f),()=>A(t),()=>S(t))}function S(_){const $=(0,je._)`${_}.errors`;s.assign(Ht.default.vErrors,(0,je._)`${Ht.default.vErrors} === null ? ${$} : ${Ht.default.vErrors}.concat(${$})`),s.assign(Ht.default.errors,(0,je._)`${Ht.default.vErrors}.length`)}function A(_){var $;if(!i.opts.unevaluated)return;const g=($=r==null?void 0:r.validate)===null||$===void 0?void 0:$.evaluated;if(i.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(i.props=Hr.mergeEvaluated.props(s,g.props,i.props));else{const h=s.var("props",(0,je._)`${_}.evaluated.props`);i.props=Hr.mergeEvaluated.props(s,h,i.props,je.Name)}if(i.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(i.items=Hr.mergeEvaluated.items(s,g.items,i.items));else{const h=s.var("items",(0,je._)`${_}.evaluated.items`);i.items=Hr.mergeEvaluated.items(s,h,i.items,je.Name)}}}wt.callRef=Wr;wt.default=Zm;Object.defineProperty(Es,"__esModule",{value:!0});const xm=bs,ey=wt,ty=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",xm.default,ey.default];Es.default=ty;var Ss={},ws={};Object.defineProperty(ws,"__esModule",{value:!0});const sn=J,it=sn.operators,an={maximum:{okStr:"<=",ok:it.LTE,fail:it.GT},minimum:{okStr:">=",ok:it.GTE,fail:it.LT},exclusiveMaximum:{okStr:"<",ok:it.LT,fail:it.GTE},exclusiveMinimum:{okStr:">",ok:it.GT,fail:it.LTE}},ry={message:({keyword:e,schemaCode:t})=>(0,sn.str)`must be ${an[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,sn._)`{comparison: ${an[e].okStr}, limit: ${t}}`},ny={keyword:Object.keys(an),type:"number",schemaType:"number",$data:!0,error:ry,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,sn._)`${r} ${an[t].fail} ${n} || isNaN(${r})`)}};ws.default=ny;var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});const hr=J,sy={message:({schemaCode:e})=>(0,hr.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,hr._)`{multipleOf: ${e}}`},iy={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:sy,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,i=s.opts.multipleOfPrecision,a=t.let("res"),l=i?(0,hr._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${i}`:(0,hr._)`${a} !== parseInt(${a})`;e.fail$data((0,hr._)`(${n} === 0 || (${a} = ${r}/${n}, ${l}))`)}};Ps.default=iy;var Os={},Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});function lo(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}Ts.default=lo;lo.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Os,"__esModule",{value:!0});const jt=J,ay=ee,oy=Ts,ly={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,jt.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,jt._)`{limit: ${e}}`},cy={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:ly,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,i=t==="maxLength"?jt.operators.GT:jt.operators.LT,a=s.opts.unicode===!1?(0,jt._)`${r}.length`:(0,jt._)`${(0,ay.useFunc)(e.gen,oy.default)}(${r})`;e.fail$data((0,jt._)`${a} ${i} ${n}`)}};Os.default=cy;var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});const uy=G,on=J,fy={message:({schemaCode:e})=>(0,on.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,on._)`{pattern: ${e}}`},dy={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:fy,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:i}=e,a=i.opts.unicodeRegExp?"u":"",l=r?(0,on._)`(new RegExp(${s}, ${a}))`:(0,uy.usePattern)(e,n);e.fail$data((0,on._)`!${l}.test(${t})`)}};Fs.default=dy;var As={};Object.defineProperty(As,"__esModule",{value:!0});const pr=J,hy={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,pr.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,pr._)`{limit: ${e}}`},py={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:hy,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?pr.operators.GT:pr.operators.LT;e.fail$data((0,pr._)`Object.keys(${r}).length ${s} ${n}`)}};As.default=py;var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});const lr=G,vr=J,vy=ee,my={message:({params:{missingProperty:e}})=>(0,vr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,vr._)`{missingProperty: ${e}}`},yy={keyword:"required",type:"object",schemaType:"array",$data:!0,error:my,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:i,it:a}=e,{opts:l}=a;if(!i&&r.length===0)return;const u=r.length>=l.loopRequired;if(a.allErrors?f():d(),l.strictRequired){const A=e.parentSchema.properties,{definedProperties:_}=e.it;for(const $ of r)if((A==null?void 0:A[$])===void 0&&!_.has($)){const g=a.schemaEnv.baseId+a.errSchemaPath,h=`required property "${$}" is not defined at "${g}" (strictRequired)`;(0,vy.checkStrictMode)(a,h,a.opts.strictRequired)}}function f(){if(u||i)e.block$data(vr.nil,y);else for(const A of r)(0,lr.checkReportMissingProp)(e,A)}function d(){const A=t.let("missing");if(u||i){const _=t.let("valid",!0);e.block$data(_,()=>S(A,_)),e.ok(_)}else t.if((0,lr.checkMissingProp)(e,r,A)),(0,lr.reportMissingProp)(e,A),t.else()}function y(){t.forOf("prop",n,A=>{e.setParams({missingProperty:A}),t.if((0,lr.noPropertyInData)(t,s,A,l.ownProperties),()=>e.error())})}function S(A,_){e.setParams({missingProperty:A}),t.forOf(A,n,()=>{t.assign(_,(0,lr.propertyInData)(t,s,A,l.ownProperties)),t.if((0,vr.not)(_),()=>{e.error(),t.break()})},vr.nil)}}};Cs.default=yy;var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});const mr=J,gy={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,mr.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,mr._)`{limit: ${e}}`},_y={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:gy,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?mr.operators.GT:mr.operators.LT;e.fail$data((0,mr._)`${r}.length ${s} ${n}`)}};Ms.default=_y;var Ns={},Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});const co=Ka;co.code='require("ajv/dist/runtime/equal").default';Nr.default=co;Object.defineProperty(Ns,"__esModule",{value:!0});const Fn=Mr,me=J,$y=ee,jy=Nr,Ey={message:({params:{i:e,j:t}})=>(0,me.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,me._)`{i: ${e}, j: ${t}}`},by={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Ey,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:i,schemaCode:a,it:l}=e;if(!n&&!s)return;const u=t.let("valid"),f=i.items?(0,Fn.getSchemaTypes)(i.items):[];e.block$data(u,d,(0,me._)`${a} === false`),e.ok(u);function d(){const _=t.let("i",(0,me._)`${r}.length`),$=t.let("j");e.setParams({i:_,j:$}),t.assign(u,!0),t.if((0,me._)`${_} > 1`,()=>(y()?S:A)(_,$))}function y(){return f.length>0&&!f.some(_=>_==="object"||_==="array")}function S(_,$){const g=t.name("item"),h=(0,Fn.checkDataTypes)(f,g,l.opts.strictNumbers,Fn.DataType.Wrong),E=t.const("indices",(0,me._)`{}`);t.for((0,me._)`;${_}--;`,()=>{t.let(g,(0,me._)`${r}[${_}]`),t.if(h,(0,me._)`continue`),f.length>1&&t.if((0,me._)`typeof ${g} == "string"`,(0,me._)`${g} += "_"`),t.if((0,me._)`typeof ${E}[${g}] == "number"`,()=>{t.assign($,(0,me._)`${E}[${g}]`),e.error(),t.assign(u,!1).break()}).code((0,me._)`${E}[${g}] = ${_}`)})}function A(_,$){const g=(0,$y.useFunc)(t,jy.default),h=t.name("outer");t.label(h).for((0,me._)`;${_}--;`,()=>t.for((0,me._)`${$} = ${_}; ${$}--;`,()=>t.if((0,me._)`${g}(${r}[${_}], ${r}[${$}])`,()=>{e.error(),t.assign(u,!1).break(h)})))}}};Ns.default=by;var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});const zn=J,Sy=ee,wy=Nr,Py={message:"must be equal to constant",params:({schemaCode:e})=>(0,zn._)`{allowedValue: ${e}}`},Oy={keyword:"const",$data:!0,error:Py,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:i}=e;n||i&&typeof i=="object"?e.fail$data((0,zn._)`!${(0,Sy.useFunc)(t,wy.default)}(${r}, ${s})`):e.fail((0,zn._)`${i} !== ${r}`)}};Vs.default=Oy;var Is={};Object.defineProperty(Is,"__esModule",{value:!0});const ur=J,Ty=ee,Fy=Nr,Ay={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,ur._)`{allowedValues: ${e}}`},Cy={keyword:"enum",schemaType:"array",$data:!0,error:Ay,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:i,it:a}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const l=s.length>=a.opts.loopEnum,u=(0,Ty.useFunc)(t,Fy.default);let f;if(l||n)f=t.let("valid"),e.block$data(f,d);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const S=t.const("vSchema",i);f=(0,ur.or)(...s.map((A,_)=>y(S,_)))}e.pass(f);function d(){t.assign(f,!1),t.forOf("v",i,S=>t.if((0,ur._)`${u}(${r}, ${S})`,()=>t.assign(f,!0).break()))}function y(S,A){const _=s[A];return typeof _=="object"&&_!==null?(0,ur._)`${u}(${r}, ${S}[${A}])`:(0,ur._)`${r} === ${_}`}}};Is.default=Cy;Object.defineProperty(Ss,"__esModule",{value:!0});const My=ws,Ny=Ps,Vy=Os,Iy=Fs,Ry=As,Dy=Cs,ky=Ms,Ly=Ns,Hy=Vs,Uy=Is,qy=[My.default,Ny.default,Vy.default,Iy.default,Ry.default,Dy.default,ky.default,Ly.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Hy.default,Uy.default];Ss.default=qy;var Rs={},Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.validateAdditionalItems=void 0;const Et=J,Kn=ee,zy={message:({params:{len:e}})=>(0,Et.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Et._)`{limit: ${e}}`},Ky={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:zy,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Kn.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}uo(e,n)}};function uo(e,t){const{gen:r,schema:n,data:s,keyword:i,it:a}=e;a.items=!0;const l=r.const("len",(0,Et._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Et._)`${l} <= ${t.length}`);else if(typeof n=="object"&&!(0,Kn.alwaysValidSchema)(a,n)){const f=r.var("valid",(0,Et._)`${l} <= ${t.length}`);r.if((0,Et.not)(f),()=>u(f)),e.ok(f)}function u(f){r.forRange("i",t.length,l,d=>{e.subschema({keyword:i,dataProp:d,dataPropType:Kn.Type.Num},f),a.allErrors||r.if((0,Et.not)(f),()=>r.break())})}}Xt.validateAdditionalItems=uo;Xt.default=Ky;var Ds={},Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.validateTuple=void 0;const Wi=J,Yr=ee,By=G,Gy={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return fo(e,"additionalItems",t);r.items=!0,!(0,Yr.alwaysValidSchema)(r,t)&&e.ok((0,By.validateArray)(e))}};function fo(e,t,r=e.schema){const{gen:n,parentSchema:s,data:i,keyword:a,it:l}=e;d(s),l.opts.unevaluated&&r.length&&l.items!==!0&&(l.items=Yr.mergeEvaluated.items(n,r.length,l.items));const u=n.name("valid"),f=n.const("len",(0,Wi._)`${i}.length`);r.forEach((y,S)=>{(0,Yr.alwaysValidSchema)(l,y)||(n.if((0,Wi._)`${f} > ${S}`,()=>e.subschema({keyword:a,schemaProp:S,dataProp:S},u)),e.ok(u))});function d(y){const{opts:S,errSchemaPath:A}=l,_=r.length,$=_===y.minItems&&(_===y.maxItems||y[t]===!1);if(S.strictTuples&&!$){const g=`"${a}" is ${_}-tuple, but minItems or maxItems/${t} are not specified or different at path "${A}"`;(0,Yr.checkStrictMode)(l,g,S.strictTuples)}}}Wt.validateTuple=fo;Wt.default=Gy;Object.defineProperty(Ds,"__esModule",{value:!0});const Jy=Wt,Xy={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Jy.validateTuple)(e,"items")};Ds.default=Xy;var ks={};Object.defineProperty(ks,"__esModule",{value:!0});const Yi=J,Wy=ee,Yy=G,Qy=Xt,Zy={message:({params:{len:e}})=>(0,Yi.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Yi._)`{limit: ${e}}`},xy={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Zy,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,Wy.alwaysValidSchema)(n,t)&&(s?(0,Qy.validateAdditionalItems)(e,s):e.ok((0,Yy.validateArray)(e)))}};ks.default=xy;var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});const Ae=J,Ur=ee,eg={message:({params:{min:e,max:t}})=>t===void 0?(0,Ae.str)`must contain at least ${e} valid item(s)`:(0,Ae.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Ae._)`{minContains: ${e}}`:(0,Ae._)`{minContains: ${e}, maxContains: ${t}}`},tg={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:eg,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;let a,l;const{minContains:u,maxContains:f}=n;i.opts.next?(a=u===void 0?1:u,l=f):a=1;const d=t.const("len",(0,Ae._)`${s}.length`);if(e.setParams({min:a,max:l}),l===void 0&&a===0){(0,Ur.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(l!==void 0&&a>l){(0,Ur.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Ur.alwaysValidSchema)(i,r)){let $=(0,Ae._)`${d} >= ${a}`;l!==void 0&&($=(0,Ae._)`${$} && ${d} <= ${l}`),e.pass($);return}i.items=!0;const y=t.name("valid");l===void 0&&a===1?A(y,()=>t.if(y,()=>t.break())):a===0?(t.let(y,!0),l!==void 0&&t.if((0,Ae._)`${s}.length > 0`,S)):(t.let(y,!1),S()),e.result(y,()=>e.reset());function S(){const $=t.name("_valid"),g=t.let("count",0);A($,()=>t.if($,()=>_(g)))}function A($,g){t.forRange("i",0,d,h=>{e.subschema({keyword:"contains",dataProp:h,dataPropType:Ur.Type.Num,compositeRule:!0},$),g()})}function _($){t.code((0,Ae._)`${$}++`),l===void 0?t.if((0,Ae._)`${$} >= ${a}`,()=>t.assign(y,!0).break()):(t.if((0,Ae._)`${$} > ${l}`,()=>t.assign(y,!1).break()),a===1?t.assign(y,!0):t.if((0,Ae._)`${$} >= ${a}`,()=>t.assign(y,!0)))}}};Ls.default=tg;var ho={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=J,r=ee,n=G;e.error={message:({params:{property:u,depsCount:f,deps:d}})=>{const y=f===1?"property":"properties";return(0,t.str)`must have ${y} ${d} when property ${u} is present`},params:({params:{property:u,depsCount:f,deps:d,missingProperty:y}})=>(0,t._)`{property: ${u},
    missingProperty: ${y},
    depsCount: ${f},
    deps: ${d}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[f,d]=i(u);a(u,f),l(u,d)}};function i({schema:u}){const f={},d={};for(const y in u){if(y==="__proto__")continue;const S=Array.isArray(u[y])?f:d;S[y]=u[y]}return[f,d]}function a(u,f=u.schema){const{gen:d,data:y,it:S}=u;if(Object.keys(f).length===0)return;const A=d.let("missing");for(const _ in f){const $=f[_];if($.length===0)continue;const g=(0,n.propertyInData)(d,y,_,S.opts.ownProperties);u.setParams({property:_,depsCount:$.length,deps:$.join(", ")}),S.allErrors?d.if(g,()=>{for(const h of $)(0,n.checkReportMissingProp)(u,h)}):(d.if((0,t._)`${g} && (${(0,n.checkMissingProp)(u,$,A)})`),(0,n.reportMissingProp)(u,A),d.else())}}e.validatePropertyDeps=a;function l(u,f=u.schema){const{gen:d,data:y,keyword:S,it:A}=u,_=d.name("valid");for(const $ in f)(0,r.alwaysValidSchema)(A,f[$])||(d.if((0,n.propertyInData)(d,y,$,A.opts.ownProperties),()=>{const g=u.subschema({keyword:S,schemaProp:$},_);u.mergeValidEvaluated(g,_)},()=>d.var(_,!0)),u.ok(_))}e.validateSchemaDeps=l,e.default=s})(ho);var Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});const po=J,rg=ee,ng={message:"property name must be valid",params:({params:e})=>(0,po._)`{propertyName: ${e.propertyName}}`},sg={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:ng,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,rg.alwaysValidSchema)(s,r))return;const i=t.name("valid");t.forIn("key",n,a=>{e.setParams({propertyName:a}),e.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},i),t.if((0,po.not)(i),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(i)}};Hs.default=sg;var $n={};Object.defineProperty($n,"__esModule",{value:!0});const qr=G,Me=J,ig=We,zr=ee,ag={message:"must NOT have additional properties",params:({params:e})=>(0,Me._)`{additionalProperty: ${e.additionalProperty}}`},og={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:ag,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:i,it:a}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:l,opts:u}=a;if(a.props=!0,u.removeAdditional!=="all"&&(0,zr.alwaysValidSchema)(a,r))return;const f=(0,qr.allSchemaProperties)(n.properties),d=(0,qr.allSchemaProperties)(n.patternProperties);y(),e.ok((0,Me._)`${i} === ${ig.default.errors}`);function y(){t.forIn("key",s,g=>{!f.length&&!d.length?_(g):t.if(S(g),()=>_(g))})}function S(g){let h;if(f.length>8){const E=(0,zr.schemaRefOrVal)(a,n.properties,"properties");h=(0,qr.isOwnProperty)(t,E,g)}else f.length?h=(0,Me.or)(...f.map(E=>(0,Me._)`${g} === ${E}`)):h=Me.nil;return d.length&&(h=(0,Me.or)(h,...d.map(E=>(0,Me._)`${(0,qr.usePattern)(e,E)}.test(${g})`))),(0,Me.not)(h)}function A(g){t.code((0,Me._)`delete ${s}[${g}]`)}function _(g){if(u.removeAdditional==="all"||u.removeAdditional&&r===!1){A(g);return}if(r===!1){e.setParams({additionalProperty:g}),e.error(),l||t.break();return}if(typeof r=="object"&&!(0,zr.alwaysValidSchema)(a,r)){const h=t.name("valid");u.removeAdditional==="failing"?($(g,h,!1),t.if((0,Me.not)(h),()=>{e.reset(),A(g)})):($(g,h),l||t.if((0,Me.not)(h),()=>t.break()))}}function $(g,h,E){const T={keyword:"additionalProperties",dataProp:g,dataPropType:zr.Type.Str};E===!1&&Object.assign(T,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(T,h)}}};$n.default=og;var Us={};Object.defineProperty(Us,"__esModule",{value:!0});const lg=Ve,Qi=G,An=ee,Zi=$n,cg={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Zi.default.code(new lg.KeywordCxt(i,Zi.default,"additionalProperties"));const a=(0,Qi.allSchemaProperties)(r);for(const y of a)i.definedProperties.add(y);i.opts.unevaluated&&a.length&&i.props!==!0&&(i.props=An.mergeEvaluated.props(t,(0,An.toHash)(a),i.props));const l=a.filter(y=>!(0,An.alwaysValidSchema)(i,r[y]));if(l.length===0)return;const u=t.name("valid");for(const y of l)f(y)?d(y):(t.if((0,Qi.propertyInData)(t,s,y,i.opts.ownProperties)),d(y),i.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(y),e.ok(u);function f(y){return i.opts.useDefaults&&!i.compositeRule&&r[y].default!==void 0}function d(y){e.subschema({keyword:"properties",schemaProp:y,dataProp:y},u)}}};Us.default=cg;var qs={};Object.defineProperty(qs,"__esModule",{value:!0});const xi=G,Kr=J,ea=ee,ta=ee,ug={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:i}=e,{opts:a}=i,l=(0,xi.allSchemaProperties)(r),u=l.filter($=>(0,ea.alwaysValidSchema)(i,r[$]));if(l.length===0||u.length===l.length&&(!i.opts.unevaluated||i.props===!0))return;const f=a.strictSchema&&!a.allowMatchingProperties&&s.properties,d=t.name("valid");i.props!==!0&&!(i.props instanceof Kr.Name)&&(i.props=(0,ta.evaluatedPropsToName)(t,i.props));const{props:y}=i;S();function S(){for(const $ of l)f&&A($),i.allErrors?_($):(t.var(d,!0),_($),t.if(d))}function A($){for(const g in f)new RegExp($).test(g)&&(0,ea.checkStrictMode)(i,`property ${g} matches pattern ${$} (use allowMatchingProperties)`)}function _($){t.forIn("key",n,g=>{t.if((0,Kr._)`${(0,xi.usePattern)(e,$)}.test(${g})`,()=>{const h=u.includes($);h||e.subschema({keyword:"patternProperties",schemaProp:$,dataProp:g,dataPropType:ta.Type.Str},d),i.opts.unevaluated&&y!==!0?t.assign((0,Kr._)`${y}[${g}]`,!0):!h&&!i.allErrors&&t.if((0,Kr.not)(d),()=>t.break())})})}}};qs.default=ug;var zs={};Object.defineProperty(zs,"__esModule",{value:!0});const fg=ee,dg={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,fg.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};zs.default=dg;var Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});const hg=G,pg={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:hg.validateUnion,error:{message:"must match a schema in anyOf"}};Ks.default=pg;var Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});const Qr=J,vg=ee,mg={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Qr._)`{passingSchemas: ${e.passing}}`},yg={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:mg,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const i=r,a=t.let("valid",!1),l=t.let("passing",null),u=t.name("_valid");e.setParams({passing:l}),t.block(f),e.result(a,()=>e.reset(),()=>e.error(!0));function f(){i.forEach((d,y)=>{let S;(0,vg.alwaysValidSchema)(s,d)?t.var(u,!0):S=e.subschema({keyword:"oneOf",schemaProp:y,compositeRule:!0},u),y>0&&t.if((0,Qr._)`${u} && ${a}`).assign(a,!1).assign(l,(0,Qr._)`[${l}, ${y}]`).else(),t.if(u,()=>{t.assign(a,!0),t.assign(l,y),S&&e.mergeEvaluated(S,Qr.Name)})})}}};Bs.default=yg;var Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});const gg=ee,_g={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((i,a)=>{if((0,gg.alwaysValidSchema)(n,i))return;const l=e.subschema({keyword:"allOf",schemaProp:a},s);e.ok(s),e.mergeEvaluated(l)})}};Gs.default=_g;var Js={};Object.defineProperty(Js,"__esModule",{value:!0});const ln=J,vo=ee,$g={message:({params:e})=>(0,ln.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,ln._)`{failingKeyword: ${e.ifClause}}`},jg={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:$g,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,vo.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=ra(n,"then"),i=ra(n,"else");if(!s&&!i)return;const a=t.let("valid",!0),l=t.name("_valid");if(u(),e.reset(),s&&i){const d=t.let("ifClause");e.setParams({ifClause:d}),t.if(l,f("then",d),f("else",d))}else s?t.if(l,f("then")):t.if((0,ln.not)(l),f("else"));e.pass(a,()=>e.error(!0));function u(){const d=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l);e.mergeEvaluated(d)}function f(d,y){return()=>{const S=e.subschema({keyword:d},l);t.assign(a,l),e.mergeValidEvaluated(S,a),y?t.assign(y,(0,ln._)`${d}`):e.setParams({ifClause:d})}}}};function ra(e,t){const r=e.schema[t];return r!==void 0&&!(0,vo.alwaysValidSchema)(e,r)}Js.default=jg;var Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});const Eg=ee,bg={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Eg.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Xs.default=bg;Object.defineProperty(Rs,"__esModule",{value:!0});const Sg=Xt,wg=Ds,Pg=Wt,Og=ks,Tg=Ls,Fg=ho,Ag=Hs,Cg=$n,Mg=Us,Ng=qs,Vg=zs,Ig=Ks,Rg=Bs,Dg=Gs,kg=Js,Lg=Xs;function Hg(e=!1){const t=[Vg.default,Ig.default,Rg.default,Dg.default,kg.default,Lg.default,Ag.default,Cg.default,Fg.default,Mg.default,Ng.default];return e?t.push(wg.default,Og.default):t.push(Sg.default,Pg.default),t.push(Tg.default),t}Rs.default=Hg;var Ws={},Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});const he=J,Ug={message:({schemaCode:e})=>(0,he.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,he._)`{format: ${e}}`},qg={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Ug,code(e,t){const{gen:r,data:n,$data:s,schema:i,schemaCode:a,it:l}=e,{opts:u,errSchemaPath:f,schemaEnv:d,self:y}=l;if(!u.validateFormats)return;s?S():A();function S(){const _=r.scopeValue("formats",{ref:y.formats,code:u.code.formats}),$=r.const("fDef",(0,he._)`${_}[${a}]`),g=r.let("fType"),h=r.let("format");r.if((0,he._)`typeof ${$} == "object" && !(${$} instanceof RegExp)`,()=>r.assign(g,(0,he._)`${$}.type || "string"`).assign(h,(0,he._)`${$}.validate`),()=>r.assign(g,(0,he._)`"string"`).assign(h,$)),e.fail$data((0,he.or)(E(),T()));function E(){return u.strictSchema===!1?he.nil:(0,he._)`${a} && !${h}`}function T(){const M=d.$async?(0,he._)`(${$}.async ? await ${h}(${n}) : ${h}(${n}))`:(0,he._)`${h}(${n})`,V=(0,he._)`(typeof ${h} == "function" ? ${M} : ${h}.test(${n}))`;return(0,he._)`${h} && ${h} !== true && ${g} === ${t} && !${V}`}}function A(){const _=y.formats[i];if(!_){E();return}if(_===!0)return;const[$,g,h]=T(_);$===t&&e.pass(M());function E(){if(u.strictSchema===!1){y.logger.warn(V());return}throw new Error(V());function V(){return`unknown format "${i}" ignored in schema at path "${f}"`}}function T(V){const b=V instanceof RegExp?(0,he.regexpCode)(V):u.code.formats?(0,he._)`${u.code.formats}${(0,he.getProperty)(i)}`:void 0,F=r.scopeValue("formats",{key:i,ref:V,code:b});return typeof V=="object"&&!(V instanceof RegExp)?[V.type||"string",V.validate,(0,he._)`${F}.validate`]:["string",V,F]}function M(){if(typeof _=="object"&&!(_ instanceof RegExp)&&_.async){if(!d.$async)throw new Error("async format in sync schema");return(0,he._)`await ${h}(${n})`}return typeof g=="function"?(0,he._)`${h}(${n})`:(0,he._)`${h}.test(${n})`}}}};Ys.default=qg;Object.defineProperty(Ws,"__esModule",{value:!0});const zg=Ys,Kg=[zg.default];Ws.default=Kg;var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.contentVocabulary=Gt.metadataVocabulary=void 0;Gt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Gt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(js,"__esModule",{value:!0});const Bg=Es,Gg=Ss,Jg=Rs,Xg=Ws,na=Gt,Wg=[Bg.default,Gg.default,(0,Jg.default)(),Xg.default,na.metadataVocabulary,na.contentVocabulary];js.default=Wg;var Qs={},mo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(mo);Object.defineProperty(Qs,"__esModule",{value:!0});const Ut=J,Bn=mo,sa=Ee,Yg=ee,Qg={message:({params:{discrError:e,tagName:t}})=>e===Bn.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Ut._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Zg={keyword:"discriminator",type:"object",schemaType:"object",error:Qg,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:i}=e,{oneOf:a}=s;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const l=n.propertyName;if(typeof l!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),f=t.const("tag",(0,Ut._)`${r}${(0,Ut.getProperty)(l)}`);t.if((0,Ut._)`typeof ${f} == "string"`,()=>d(),()=>e.error(!1,{discrError:Bn.DiscrError.Tag,tag:f,tagName:l})),e.ok(u);function d(){const A=S();t.if(!1);for(const _ in A)t.elseIf((0,Ut._)`${f} === ${_}`),t.assign(u,y(A[_]));t.else(),e.error(!1,{discrError:Bn.DiscrError.Mapping,tag:f,tagName:l}),t.endIf()}function y(A){const _=t.name("valid"),$=e.subschema({keyword:"oneOf",schemaProp:A},_);return e.mergeEvaluated($,Ut.Name),_}function S(){var A;const _={},$=h(s);let g=!0;for(let M=0;M<a.length;M++){let V=a[M];(V==null?void 0:V.$ref)&&!(0,Yg.schemaHasRulesButRef)(V,i.self.RULES)&&(V=sa.resolveRef.call(i.self,i.schemaEnv,i.baseId,V==null?void 0:V.$ref),V instanceof sa.SchemaEnv&&(V=V.schema));const b=(A=V==null?void 0:V.properties)===null||A===void 0?void 0:A[l];if(typeof b!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${l}"`);g=g&&($||h(V)),E(b,M)}if(!g)throw new Error(`discriminator: "${l}" must be required`);return _;function h({required:M}){return Array.isArray(M)&&M.includes(l)}function E(M,V){if(M.const)T(M.const,V);else if(M.enum)for(const b of M.enum)T(b,V);else throw new Error(`discriminator: "properties/${l}" must have "const" or "enum"`)}function T(M,V){if(typeof M!="string"||M in _)throw new Error(`discriminator: "${l}" values must be unique strings`);_[M]=V}}}};Qs.default=Zg;const xg="http://json-schema.org/draft-07/schema#",e_="http://json-schema.org/draft-07/schema#",t_="Core schema meta-schema",r_={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},n_=["object","boolean"],s_={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}};var i_={$schema:xg,$id:e_,title:t_,definitions:r_,type:n_,properties:s_,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=Ra,n=js,s=Qs,i=i_,a=["/properties"],l="http://json-schema.org/draft-07/schema";class u extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(S=>this.addVocabulary(S)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const S=this.opts.$data?this.$dataMetaSchema(i,a):i;this.addMetaSchema(S,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var f=Ve;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var d=J;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}})})(Ln,Ln.exports);var a_=gv(Ln.exports);function o_(){const{ajv:e={}}=this.vfjsOptions,{options:t={},keywords:r={},plugins:n={}}=e;if(this.ajv=new a_(ue(D({},t),{allErrors:!0})),Object.keys(n).forEach(s=>{typeof n[s]=="function"&&n[s](this.ajv)}),Object.keys(r).forEach(s=>{this.ajv.addKeyword(s,r[s])}),Object.keys(this.schemas).forEach(s=>{this.ajv.addSchema(this.schemas[s],s)}),this.ajv.validate(this.getVfjsSchema(),{}),this.ajv.errors){const s=this.getVfjsPropertiesRequired(this.ajv.errors);this.vfjsFieldsRequired=this.getVfjsChildPropertiesRequired(s)}}const l_=D(D({vfjsValidationInitialize:o_},pv),mv),c_=D(D(D(D(D(D(D(D({},np),bp),$p),Cp),Gp),kp),iv),l_),u_={[cs]:{type:Object,default:()=>({})},[Ar]:{type:Object,default:()=>({})},[hs]:{type:Object,required:!0,default:()=>({})},[sh]:{type:Object,default:()=>({})},[nh]:{type:String,default:()=>Math.random().toString(36).substring(2,11)},[ds]:{type:Object,default:()=>({})},[ih]:{type:String,default:"div"},[Er]:{type:Array,required:!0,default:()=>({})}},f_={[cs](e){this.vfjsComponents=Object.assign({},e)},[Ar]:{deep:!0,handler(e){this.setVfjsModel(e)}},[hs](e){this.setVfjsSchema(e)},[Er](e){this.setVfjsUiSchema(e)},[ds](e){this.vfjsOptions=at({},this.vfjsOptions,e),this.vfjsOptions.showValidationErrors&&this.setVfjsValidationErrors()}},d_={model:{prop:Ar,event:rn},created(){this.vfjsInitialize()},beforeUnmount(){this.vfjsDestroy()},emits:[rn,us,fs],computed:Dh,data:kh,props:u_,methods:c_,watch:f_},yo=ue(D({name:"vue-form-json-schema"},d_),{render(){return br(this.tag,[...this.vfjsFields])}});function Gn(e,t={component:"vue-form-json-schema"}){Gn.installed||(Gn.installed=!0,e.component(t.component,yo))}const go={install:Gn};let yr=null;typeof window!="undefined"?yr=window.Vue:typeof global!="undefined"&&(yr=global.Vue);yr&&typeof yr.use=="function"&&yr.use(go);const h_=["innerHTML"],Br={props:{value:Object},setup(e){function t(r){if(r){const s=JSON.stringify(r,null,2).replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">"),i=/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g;return s.replace(i,a=>{let l="number";return/^"/.test(a)?/:$/.test(a)?l="key":l="string":/true|false/.test(a)?l="boolean":/null/.test(a)&&(l="null"),`<span class="${l}">${a}</span>`})}return""}return(r,n)=>(cr(),Gr("pre",{innerHTML:t(e.value)},null,8,h_))}},p_={id:"example-five",class:"container mb-3 mt-3"},v_=be("h1",null,"vue-form-json-schema",-1),m_=be("h3",null,[Ro("Example #5 "),be("small",{class:"text-muted"},"Async loading of form")],-1),y_=be("p",{class:"lead"},[be("span",null,"An example to show how to use remotely loaded JSON schema/uiSchema and model")],-1),g_={key:1,class:"alert alert-info"},__=be("h4",{class:"alert-heading"},"Hang on!",-1),$_=be("div",null,"Loading form...",-1),j_=[__,$_],E_={key:2,class:"text-center mt-2"},b_=Do("<hr><p><span> This demo shows how the <code>schema</code>,\xA0 <code>uiSchema</code> and the <code>model</code> can be fetched from an API and rendered at a later time. </span></p><p><span> In this demo we use <code>setTimeout</code> to simulate an asynchronous action so that the form can &quot;loaded&quot; after 5 seconds. </span></p><hr><h4>Model</h4>",5),S_=be("h4",null,"Schema",-1),w_=be("h4",null,"UI Schema",-1),P_=be("h4",null,"State",-1),O_=be("h4",null,"Valid",-1),T_={setup(e){const t=kt({}),r=kt({}),n=kt(!1),s=kt({}),i=kt([]),a=kt(!1),l=5e3;function u(_){r.value=_}function f(_){n.value=_}function d(){return new Promise((_,$)=>{setTimeout(()=>{_([{component:"input",model:"firstName",fieldOptions:{class:["form-control"],on:["input"],attrs:{placeholder:"Please enter your first name"}}}])},l)})}function y(){return new Promise((_,$)=>{setTimeout(()=>{_({type:"object",required:["firstName"],properties:{firstName:{type:"string"}}})},l)})}function S(){return new Promise((_,$)=>{setTimeout(()=>{_({firstName:"Tobias"})},l)})}function A(){return i.value=[],s.value=[],t.value={},a.value=!1,Promise.all([d(),y(),S()]).then(([_,$,g])=>{i.value=_,s.value=$,t.value=g,a.value=!0})}return A(),(_,$)=>(cr(),Gr("div",null,[be("div",p_,[v_,m_,y_,this.loaded?(cr(),No(Vo(yo),{key:0,modelValue:t.value,"onUpdate:modelValue":$[0]||($[0]=g=>t.value=g),schema:s.value,"ui-schema":i.value,"onUpdate:state":u,"onUpdate:validated":f},null,8,["modelValue","schema","ui-schema"])):En("",!0),this.loaded?En("",!0):(cr(),Gr("div",g_,j_)),this.loaded?(cr(),Gr("div",E_,[be("button",{class:"btn btn-primary",onClick:A},"Reload form")])):En("",!0),b_,kr(Br,{value:t.value},null,8,["value"]),S_,kr(Br,{value:s.value},null,8,["value"]),w_,kr(Br,{value:i.value},null,8,["value"]),P_,kr(Br,{value:r.value},null,8,["value"]),O_,be("div",null,Io(n.value),1)])]))}};ko(T_).use(go).mount("#app")});export default F_();
